com.fsck.k9.activity.MessageCompose extends com.fsck.k9.activity.K9Activity implements android.view.View$OnClickListener com.fsck.k9.fragment.ProgressDialogFragment$CancelListener com.fsck.k9.fragment.AttachmentDownloadDialogFragment$AttachmentDownloadCancelListener android.view.View$OnFocusChangeListener com.fsck.k9.activity.compose.PgpInlineDialog$OnOpenPgpInlineChangeListener com.fsck.k9.activity.compose.PgpSignOnlyDialog$OnOpenPgpSignOnlyChangeListener com.fsck.k9.message.MessageBuilder$Callback com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentsChangedListener com.fsck.k9.activity.compose.RecipientPresenter$RecipientsChangedListener com.fsck.k9.activity.compose.PgpEnabledErrorDialog$OnOpenPgpDisableListener
private static final java.lang.String ACTION_AUTOCRYPT_PEER
public static final java.lang.String ACTION_COMPOSE
public static final java.lang.String ACTION_EDIT_DRAFT
public static final java.lang.String ACTION_FORWARD
public static final java.lang.String ACTION_REPLY
public static final java.lang.String ACTION_REPLY_ALL
private static final int DIALOG_CHOOSE_IDENTITY
private static final int DIALOG_CONFIRM_DISCARD
private static final int DIALOG_CONFIRM_DISCARD_ON_BACK
private static final int DIALOG_SAVE_OR_DISCARD_DRAFT_MESSAGE
public static final java.lang.String EXTRA_ACCOUNT
public static final java.lang.String EXTRA_MESSAGE_DECRYPTION_RESULT
public static final java.lang.String EXTRA_MESSAGE_REFERENCE
private static final java.lang.String FRAGMENT_WAITING_FOR_ATTACHMENT
private static final long INVALID_DRAFT_ID
private static final int MSG_DISCARDED_DRAFT
private static final int MSG_PROGRESS_OFF
private static final int MSG_PROGRESS_ON
public static final int MSG_SAVED_DRAFT
private static final java.util.regex.Pattern PREFIX
private static final int REQUEST_MASK_ATTACHMENT_PRESENTER
private static final int REQUEST_MASK_LOADER_HELPER
private static final int REQUEST_MASK_MESSAGE_BUILDER
private static final int REQUEST_MASK_RECIPIENT_PRESENTER
private static final java.lang.String STATE_ALREADY_NOTIFIED_USER_OF_EMPTY_SUBJECT
private static final java.lang.String STATE_IDENTITY
private static final java.lang.String STATE_IDENTITY_CHANGED
private static final java.lang.String STATE_IN_REPLY_TO
private static final java.lang.String STATE_KEY_CHANGES_MADE_SINCE_LAST_SAVE
private static final java.lang.String STATE_KEY_DRAFT_ID
private static final java.lang.String STATE_KEY_READ_RECEIPT
private static final java.lang.String STATE_KEY_SOURCE_MESSAGE_PROCED
private static final java.lang.String STATE_REFERENCES
private com.fsck.k9.Account account
private com.fsck.k9.activity.MessageCompose$Action action
private boolean alreadyNotifiedUserOfEmptySubject
com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentMvpView attachmentMvpView
private com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter
private android.widget.LinearLayout attachmentsView
private boolean changesMadeSinceLastSave
private android.widget.TextView chooseIdentityButton
private com.fsck.k9.helper.Contacts contacts
private com.fsck.k9.message.MessageBuilder currentMessageBuilder
private com.fsck.k9.message.SimpleMessageFormat currentMessageFormat
private long draftId
private boolean finishAfterDraftSaved
private com.fsck.k9.Identity identity
private boolean identityChanged
private android.os.Handler internalMessageHandler
private boolean isInSubActivity
private com.fsck.k9.ui.EolConvertingEditText messageContentView
private com.fsck.k9.activity.MessageLoaderHelper$MessageLoaderCallbacks messageLoaderCallbacks
private com.fsck.k9.activity.MessageLoaderHelper messageLoaderHelper
public com.fsck.k9.controller.MessagingListener messagingListener
private boolean navigateUp
private com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter
private com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter
private java.lang.String referencedMessageIds
private boolean relatedMessageProcessed
private com.fsck.k9.activity.MessageReference relatedMessageReference
private java.lang.String repliedToMessageId
private boolean requestReadReceipt
private boolean signatureChanged
private com.fsck.k9.ui.EolConvertingEditText signatureView
private android.widget.EditText subjectView
    static void <clinit>()
    {
        java.util.regex.Pattern $r0;

        $r0 = staticinvoke <java.util.regex.Pattern: java.util.regex.Pattern compile(java.lang.String,int)>("^AW[:\\s]\\s*", 2);

        <com.fsck.k9.activity.MessageCompose: java.util.regex.Pattern PREFIX> = $r0;

        return;
    }
    public void <init>()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.activity.MessageCompose$10 $r1;
        com.fsck.k9.activity.MessageCompose$11 $r2;
        com.fsck.k9.activity.MessageCompose$12 $r3;
        com.fsck.k9.activity.MessageCompose$13 $r4;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void <init>()>();

        r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: boolean signatureChanged> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: boolean alreadyNotifiedUserOfEmptySubject> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: long draftId> = -1L;

        r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: boolean isInSubActivity> = 0;

        $r1 = new com.fsck.k9.activity.MessageCompose$10;

        specialinvoke $r1.<com.fsck.k9.activity.MessageCompose$10: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper$MessageLoaderCallbacks messageLoaderCallbacks> = $r1;

        $r2 = new com.fsck.k9.activity.MessageCompose$11;

        specialinvoke $r2.<com.fsck.k9.activity.MessageCompose$11: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.controller.MessagingListener messagingListener> = $r2;

        $r3 = new com.fsck.k9.activity.MessageCompose$12;

        specialinvoke $r3.<com.fsck.k9.activity.MessageCompose$12: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentMvpView attachmentMvpView> = $r3;

        $r4 = new com.fsck.k9.activity.MessageCompose$13;

        specialinvoke $r4.<com.fsck.k9.activity.MessageCompose$13: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r0.<com.fsck.k9.activity.MessageCompose: android.os.Handler internalMessageHandler> = $r4;

        return;
    }
    static boolean access$002(com.fsck.k9.activity.MessageCompose, boolean)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        boolean $z0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter1: boolean;

        $r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = $z0;

        return $z0;
    }
    static com.fsck.k9.activity.compose.AttachmentPresenter access$1000(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        com.fsck.k9.activity.compose.AttachmentPresenter r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        r1 = $r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        return r1;
    }
    static boolean access$102(com.fsck.k9.activity.MessageCompose, boolean)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        boolean $z0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter1: boolean;

        $r0.<com.fsck.k9.activity.MessageCompose: boolean signatureChanged> = $z0;

        return $z0;
    }
    static void access$1100(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        specialinvoke $r0.<com.fsck.k9.activity.MessageCompose: void performSaveAfterChecks()>();

        return;
    }
    static long access$1202(com.fsck.k9.activity.MessageCompose, long)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        long $l0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $l0 := @parameter1: long;

        $r0.<com.fsck.k9.activity.MessageCompose: long draftId> = $l0;

        return $l0;
    }
    static void access$200(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        specialinvoke $r0.<com.fsck.k9.activity.MessageCompose: void onDiscard()>();

        return;
    }
    static void access$300(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        specialinvoke $r0.<com.fsck.k9.activity.MessageCompose: void checkToSaveDraftAndSave()>();

        return;
    }
    static void access$400(com.fsck.k9.activity.MessageCompose, com.fsck.k9.Account, com.fsck.k9.Identity)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        com.fsck.k9.Account $r1;
        com.fsck.k9.Identity $r2;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter1: com.fsck.k9.Account;

        $r2 := @parameter2: com.fsck.k9.Identity;

        specialinvoke $r0.<com.fsck.k9.activity.MessageCompose: void onAccountChosen(com.fsck.k9.Account,com.fsck.k9.Identity)>($r1, $r2);

        return;
    }
    static android.os.Handler access$500(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        android.os.Handler r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        r1 = $r0.<com.fsck.k9.activity.MessageCompose: android.os.Handler internalMessageHandler>;

        return r1;
    }
    static com.fsck.k9.activity.MessageCompose$Action access$600(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        com.fsck.k9.activity.MessageCompose$Action r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        r1 = $r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        return r1;
    }
    static com.fsck.k9.activity.MessageReference access$700(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        com.fsck.k9.activity.MessageReference r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        r1 = $r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        return r1;
    }
    static com.fsck.k9.activity.MessageReference access$702(com.fsck.k9.activity.MessageCompose, com.fsck.k9.activity.MessageReference)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        com.fsck.k9.activity.MessageReference $r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter1: com.fsck.k9.activity.MessageReference;

        $r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = $r1;

        return $r1;
    }
    static boolean access$802(com.fsck.k9.activity.MessageCompose, boolean)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        boolean $z0;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter1: boolean;

        $r0.<com.fsck.k9.activity.MessageCompose: boolean isInSubActivity> = $z0;

        return $z0;
    }
    static android.widget.LinearLayout access$900(com.fsck.k9.activity.MessageCompose)
    {
        com.fsck.k9.activity.MessageCompose $r0;
        android.widget.LinearLayout r1;

        $r0 := @parameter0: com.fsck.k9.activity.MessageCompose;

        r1 = $r0.<com.fsck.k9.activity.MessageCompose: android.widget.LinearLayout attachmentsView>;

        return r1;
    }
    private void askBeforeDiscard()
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 = staticinvoke <com.fsck.k9.K9: boolean confirmDiscardMessage()>();

        if $z0 == 0 goto label1;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void showDialog(int)>(4);

        return;

     label1:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void onDiscard()>();

        return;
    }
    private void checkToSaveDraftAndSave()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.Account $r1;
        boolean $z0;
        android.widget.Toast $r2;
        com.fsck.k9.activity.compose.AttachmentPresenter $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r1.<com.fsck.k9.Account: boolean hasDraftsFolder()>();

        if $z0 != 0 goto label1;

        $r2 = staticinvoke <android.widget.Toast: android.widget.Toast makeText(android.content.Context,int,int)>(r0, 2131165542, 0);

        virtualinvoke $r2.<android.widget.Toast: void show()>();

        return;

     label1:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        $z0 = virtualinvoke $r3.<com.fsck.k9.activity.compose.AttachmentPresenter: boolean checkOkForSendingOrDraftSaving()>();

        if $z0 != 0 goto label2;

        r0.<com.fsck.k9.activity.MessageCompose: boolean finishAfterDraftSaved> = 1;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void performSaveAfterChecks()>();

     label2:
        return;
    }
    private void checkToSaveDraftImplicitly()
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;
        com.fsck.k9.Account $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r1.<com.fsck.k9.Account: boolean hasDraftsFolder()>();

        if $z0 != 0 goto label1;

        return;

     label1:
        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave>;

        if $z0 == 0 goto label2;

        r0.<com.fsck.k9.activity.MessageCompose: boolean finishAfterDraftSaved> = 0;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void performSaveAfterChecks()>();

     label2:
        return;
    }
    private void checkToSendMessage()
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.widget.EditText $r1;
        android.text.Editable $r2;
        int $i0;
        boolean $z0;
        android.widget.Toast $r3;
        com.fsck.k9.activity.compose.RecipientPresenter $r4;
        com.fsck.k9.activity.compose.AttachmentPresenter $r5;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r2 = virtualinvoke $r1.<android.widget.EditText: android.text.Editable getText()>();

        $i0 = interfaceinvoke $r2.<android.text.Editable: int length()>();

        if $i0 != 0 goto label1;

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean alreadyNotifiedUserOfEmptySubject>;

        if $z0 != 0 goto label1;

        $r3 = staticinvoke <android.widget.Toast: android.widget.Toast makeText(android.content.Context,int,int)>(r0, 2131165630, 1);

        virtualinvoke $r3.<android.widget.Toast: void show()>();

        r0.<com.fsck.k9.activity.MessageCompose: boolean alreadyNotifiedUserOfEmptySubject> = 1;

        return;

     label1:
        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $z0 = virtualinvoke $r4.<com.fsck.k9.activity.compose.RecipientPresenter: boolean checkRecipientsOkForSending()>();

        if $z0 != 0 goto label2;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        $z0 = virtualinvoke $r5.<com.fsck.k9.activity.compose.AttachmentPresenter: boolean checkOkForSendingOrDraftSaving()>();

        if $z0 != 0 goto label2;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void performSendAfterChecks()>();

     label2:
        return;
    }
    private com.fsck.k9.message.MessageBuilder createMessageBuilder(boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0, $z1;
        com.fsck.k9.activity.compose.RecipientPresenter $r1;
        com.fsck.k9.activity.compose.ComposeCryptoStatus $r2;
        com.fsck.k9.activity.compose.ComposeCryptoStatus$SendErrorState $r3;
        com.fsck.k9.message.PgpMessageBuilder $r4;
        com.fsck.k9.message.MessageBuilder r5, $r9;
        android.widget.EditText $r6;
        android.text.Editable $r7;
        java.lang.String $r8;
        java.util.Date $r10;
        com.fsck.k9.Identity $r11;
        com.fsck.k9.message.SimpleMessageFormat $r12;
        com.fsck.k9.ui.EolConvertingEditText $r13;
        com.fsck.k9.activity.compose.AttachmentPresenter $r14;
        java.util.ArrayList $r15;
        com.fsck.k9.Account $r16;
        int $i0;
        com.fsck.k9.activity.MessageReference $r17;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r18;
        com.fsck.k9.message.SimpleMessageBuilder $r19;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter0: boolean;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r2 = virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: com.fsck.k9.activity.compose.ComposeCryptoStatus getCurrentCachedCryptoStatus()>();

        if $r2 != null goto label1;

        return null;

     label1:
        if $z0 != 0 goto label4;

        $z1 = virtualinvoke $r2.<com.fsck.k9.activity.compose.ComposeCryptoStatus: boolean shouldUsePgpMessageBuilder()>();

        if $z1 == 0 goto label4;

        $r3 = virtualinvoke $r2.<com.fsck.k9.activity.compose.ComposeCryptoStatus: com.fsck.k9.activity.compose.ComposeCryptoStatus$SendErrorState getSendErrorStateOrNull()>();

        if $r3 == null goto label2;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void showPgpSendError(com.fsck.k9.activity.compose.ComposeCryptoStatus$SendErrorState)>($r3);

        return null;

     label2:
        $r4 = staticinvoke <com.fsck.k9.message.PgpMessageBuilder: com.fsck.k9.message.PgpMessageBuilder newInstance()>();

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void builderSetProperties(com.fsck.k9.message.PgpMessageBuilder,com.fsck.k9.activity.compose.ComposeCryptoStatus)>($r4, $r2);

        r5 = $r4;

     label3:
        $r6 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r7 = virtualinvoke $r6.<android.widget.EditText: android.text.Editable getText()>();

        $r8 = virtualinvoke $r7.<java.lang.Object: java.lang.String toString()>();

        $r8 = staticinvoke <com.fsck.k9.helper.Utility: java.lang.String stripNewLines(java.lang.String)>($r8);

        $r9 = virtualinvoke r5.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setSubject(java.lang.String)>($r8);

        $r10 = new java.util.Date;

        specialinvoke $r10.<java.util.Date: void <init>()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setSentDate(java.util.Date)>($r10);

        $z1 = staticinvoke <com.fsck.k9.K9: boolean hideTimeZone()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setHideTimeZone(boolean)>($z1);

        $r8 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setInReplyTo(java.lang.String)>($r8);

        $r8 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setReferences(java.lang.String)>($r8);

        $z1 = r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setRequestReadReceipt(boolean)>($z1);

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setIdentity(com.fsck.k9.Identity)>($r11);

        $r12 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.SimpleMessageFormat currentMessageFormat>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setMessageFormat(com.fsck.k9.message.SimpleMessageFormat)>($r12);

        $r13 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        $r8 = virtualinvoke $r13.<com.fsck.k9.ui.EolConvertingEditText: java.lang.String getCharacters()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setText(java.lang.String)>($r8);

        $r14 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        $r15 = virtualinvoke $r14.<com.fsck.k9.activity.compose.AttachmentPresenter: java.util.ArrayList createAttachmentList()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setAttachments(java.util.List)>($r15);

        $r13 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        $r8 = virtualinvoke $r13.<com.fsck.k9.ui.EolConvertingEditText: java.lang.String getCharacters()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setSignature(java.lang.String)>($r8);

        $r16 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z1 = virtualinvoke $r16.<com.fsck.k9.Account: boolean isSignatureBeforeQuotedText()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setSignatureBeforeQuotedText(boolean)>($z1);

        $z1 = r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setIdentityChanged(boolean)>($z1);

        $z1 = r0.<com.fsck.k9.activity.MessageCompose: boolean signatureChanged>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setSignatureChanged(boolean)>($z1);

        $r13 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        $i0 = virtualinvoke $r13.<com.fsck.k9.ui.EolConvertingEditText: int getSelectionStart()>();

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setCursorPosition(int)>($i0);

        $r17 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setMessageReference(com.fsck.k9.activity.MessageReference)>($r17);

        $r9 = virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setDraft(boolean)>($z0);

        $z0 = virtualinvoke $r2.<com.fsck.k9.activity.compose.ComposeCryptoStatus: boolean isPgpInlineModeEnabled()>();

        virtualinvoke $r9.<com.fsck.k9.message.MessageBuilder: com.fsck.k9.message.MessageBuilder setIsPgpInlineEnabled(boolean)>($z0);

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        virtualinvoke $r18.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void builderSetProperties(com.fsck.k9.message.MessageBuilder)>(r5);

        return r5;

     label4:
        $r19 = staticinvoke <com.fsck.k9.message.SimpleMessageBuilder: com.fsck.k9.message.SimpleMessageBuilder newInstance()>();

        r5 = $r19;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void builderSetProperties(com.fsck.k9.message.MessageBuilder)>($r19);

        goto label3;
    }
    private boolean draftIsNotEmpty()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.ui.EolConvertingEditText $r1;
        android.text.Editable $r2;
        int $i0;
        com.fsck.k9.activity.compose.AttachmentPresenter $r3;
        java.util.ArrayList $r4;
        boolean $z0;
        android.widget.EditText $r5;
        com.fsck.k9.activity.compose.RecipientPresenter $r6;
        java.util.List $r7;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        $r2 = virtualinvoke $r1.<com.fsck.k9.ui.EolConvertingEditText: android.text.Editable getText()>();

        $i0 = interfaceinvoke $r2.<android.text.Editable: int length()>();

        if $i0 == 0 goto label1;

        return 1;

     label1:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        $r4 = virtualinvoke $r3.<com.fsck.k9.activity.compose.AttachmentPresenter: java.util.ArrayList createAttachmentList()>();

        $z0 = virtualinvoke $r4.<java.util.ArrayList: boolean isEmpty()>();

        if $z0 == 0 goto label2;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r2 = virtualinvoke $r5.<android.widget.EditText: android.text.Editable getText()>();

        $i0 = interfaceinvoke $r2.<android.text.Editable: int length()>();

        if $i0 != 0 goto label2;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r7 = virtualinvoke $r6.<com.fsck.k9.activity.compose.RecipientPresenter: java.util.List getToAddresses()>();

        $z0 = interfaceinvoke $r7.<java.util.List: boolean isEmpty()>();

        if $z0 == 0 goto label2;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r7 = virtualinvoke $r6.<com.fsck.k9.activity.compose.RecipientPresenter: java.util.List getCcAddresses()>();

        $z0 = interfaceinvoke $r7.<java.util.List: boolean isEmpty()>();

        if $z0 == 0 goto label2;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r7 = virtualinvoke $r6.<com.fsck.k9.activity.compose.RecipientPresenter: java.util.List getBccAddresses()>();

        $z0 = interfaceinvoke $r7.<java.util.List: boolean isEmpty()>();

        if $z0 == 0 goto label2;

        return 0;

     label2:
        return 1;
    }
    private boolean initFromIntent(android.content.Intent)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.content.Intent $r1;
        boolean z0, $z1;
        java.lang.String $r2, $r3, $r9;
        android.net.Uri $r4;
        com.fsck.k9.helper.MailTo $r5;
        java.lang.CharSequence $r6;
        com.fsck.k9.ui.EolConvertingEditText $r7;
        android.text.Editable $r8;
        int $i0;
        android.os.Parcelable $r10;
        com.fsck.k9.activity.compose.AttachmentPresenter $r11;
        android.widget.EditText $r12;
        com.fsck.k9.activity.compose.RecipientPresenter $r13;
        java.util.ArrayList $r14;
        java.util.Iterator $r15;
        java.lang.Object $r16;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.content.Intent;

        z0 = 0;

        $r2 = virtualinvoke $r1.<android.content.Intent: java.lang.String getAction()>();

        $r3 = "android.intent.action.VIEW";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 != 0 goto label01;

        $r3 = "android.intent.action.SENDTO";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 == 0 goto label02;

     label01:
        $r4 = virtualinvoke $r1.<android.content.Intent: android.net.Uri getData()>();

        if $r4 == null goto label02;

        $r4 = virtualinvoke $r1.<android.content.Intent: android.net.Uri getData()>();

        $z1 = staticinvoke <com.fsck.k9.helper.MailTo: boolean isMailTo(android.net.Uri)>($r4);

        if $z1 == 0 goto label02;

        $r5 = staticinvoke <com.fsck.k9.helper.MailTo: com.fsck.k9.helper.MailTo parse(android.net.Uri)>($r4);

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void initializeFromMailto(com.fsck.k9.helper.MailTo)>($r5);

     label02:
        $r3 = "android.intent.action.SEND";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 != 0 goto label03;

        $r3 = "android.intent.action.SEND_MULTIPLE";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 != 0 goto label03;

        $r3 = "android.intent.action.SENDTO";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 != 0 goto label03;

        $r3 = "android.intent.action.VIEW";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 == 0 goto label07;

     label03:
        z0 = 1;

        $r6 = virtualinvoke $r1.<android.content.Intent: java.lang.CharSequence getCharSequenceExtra(java.lang.String)>("android.intent.extra.TEXT");

        if $r6 == null goto label04;

        $r7 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        $r8 = virtualinvoke $r7.<com.fsck.k9.ui.EolConvertingEditText: android.text.Editable getText()>();

        $i0 = interfaceinvoke $r8.<android.text.Editable: int length()>();

        if $i0 != 0 goto label04;

        $r7 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke $r7.<com.fsck.k9.ui.EolConvertingEditText: void setCharacters(java.lang.CharSequence)>($r6);

     label04:
        $r3 = virtualinvoke $r1.<android.content.Intent: java.lang.String getType()>();

        $r9 = "android.intent.action.SEND";

        $z1 = virtualinvoke $r9.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 == 0 goto label08;

        $r10 = virtualinvoke $r1.<android.content.Intent: android.os.Parcelable getParcelableExtra(java.lang.String)>("android.intent.extra.STREAM");

        $r4 = (android.net.Uri) $r10;

        if $r4 == null goto label05;

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r11.<com.fsck.k9.activity.compose.AttachmentPresenter: void addAttachment(android.net.Uri,java.lang.String)>($r4, $r3);

     label05:
        $r3 = virtualinvoke $r1.<android.content.Intent: java.lang.String getStringExtra(java.lang.String)>("android.intent.extra.SUBJECT");

        if $r3 == null goto label06;

        $r12 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r8 = virtualinvoke $r12.<android.widget.EditText: android.text.Editable getText()>();

        $i0 = interfaceinvoke $r8.<android.text.Editable: int length()>();

        if $i0 != 0 goto label06;

        $r12 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r12.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

     label06:
        $r13 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r13.<com.fsck.k9.activity.compose.RecipientPresenter: void initFromSendOrViewIntent(android.content.Intent)>($r1);

     label07:
        $r3 = "org.autocrypt.PEER_ACTION";

        $z1 = virtualinvoke $r3.<java.lang.String: boolean equals(java.lang.Object)>($r2);

        if $z1 == 0 goto label10;

        $r2 = virtualinvoke $r1.<android.content.Intent: java.lang.String getStringExtra(java.lang.String)>("autocrypt_peer_id");

        if $r2 == null goto label10;

        $r13 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r13.<com.fsck.k9.activity.compose.RecipientPresenter: void initFromTrustIdAction(java.lang.String)>($r2);

        return 1;

     label08:
        $r14 = virtualinvoke $r1.<android.content.Intent: java.util.ArrayList getParcelableArrayListExtra(java.lang.String)>("android.intent.extra.STREAM");

        if $r14 == null goto label05;

        $r15 = interfaceinvoke $r14.<java.util.List: java.util.Iterator iterator()>();

     label09:
        $z1 = interfaceinvoke $r15.<java.util.Iterator: boolean hasNext()>();

        if $z1 == 0 goto label05;

        $r16 = interfaceinvoke $r15.<java.util.Iterator: java.lang.Object next()>();

        $r10 = (android.os.Parcelable) $r16;

        $r4 = (android.net.Uri) $r10;

        if $r4 == null goto label09;

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r11.<com.fsck.k9.activity.compose.AttachmentPresenter: void addAttachment(android.net.Uri,java.lang.String)>($r4, $r3);

        goto label09;

     label10:
        return z0;
    }
    private void initializeActionBar()
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.app.ActionBar $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.ActionBar getActionBar()>();

        virtualinvoke $r1.<android.app.ActionBar: void setDisplayHomeAsUpEnabled(boolean)>(1);

        return;
    }
    private void initializeFromMailto(com.fsck.k9.helper.MailTo)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.helper.MailTo $r1;
        com.fsck.k9.activity.compose.RecipientPresenter $r2;
        java.lang.String $r3;
        boolean $z0;
        android.widget.EditText $r4;
        com.fsck.k9.ui.EolConvertingEditText $r5;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.helper.MailTo;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void initFromMailto(com.fsck.k9.helper.MailTo)>($r1);

        $r3 = virtualinvoke $r1.<com.fsck.k9.helper.MailTo: java.lang.String getSubject()>();

        if $r3 == null goto label1;

        $z0 = virtualinvoke $r3.<java.lang.String: boolean isEmpty()>();

        if $z0 != 0 goto label1;

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r4.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

     label1:
        $r3 = virtualinvoke $r1.<com.fsck.k9.helper.MailTo: java.lang.String getBody()>();

        if $r3 == null goto label2;

        $z0 = virtualinvoke $r3.<java.lang.String: boolean isEmpty()>();

        if $z0 != 0 goto label2;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke $r5.<com.fsck.k9.ui.EolConvertingEditText: void setCharacters(java.lang.CharSequence)>($r3);

     label2:
        return;
    }
    private void onAccountChosen(com.fsck.k9.Account, com.fsck.k9.Identity)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.Account $r1, r3;
        com.fsck.k9.Identity $r2;
        long l0;
        boolean $z0;
        java.lang.Object[] $r4;
        com.fsck.k9.activity.MessageCompose$Action $r5, $r6;
        byte $b1;
        java.lang.Long $r7;
        android.app.Application $r8;
        com.fsck.k9.controller.MessagingController $r9;
        com.fsck.k9.activity.compose.RecipientPresenter $r10;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r11;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.Account;

        $r2 := @parameter1: com.fsck.k9.Identity;

        r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke r3.<com.fsck.k9.Account: boolean equals(java.lang.Object)>($r1);

        if $z0 != 0 goto label4;

        $r4 = newarray (java.lang.Object)[2];

        r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r4[0] = r3;

        $r4[1] = $r1;

        staticinvoke <timber.log.Timber: void v(java.lang.String,java.lang.Object[])>("Switching account from %s to %s", $r4);

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r6 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        if $r5 != $r6 goto label1;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = null;

     label1:
        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave>;

        if $z0 != 0 goto label2;

        l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        $b1 = l0 cmp -1L;

        if $b1 == 0 goto label5;

     label2:
        l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        r0.<com.fsck.k9.activity.MessageCompose: long draftId> = -1L;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account> = $r1;

        $r4 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void v(java.lang.String,java.lang.Object[])>("Account switch, saving new draft in new account", $r4);

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void checkToSaveDraftImplicitly()>();

        $b1 = l0 cmp -1L;

        if $b1 == 0 goto label3;

        $r4 = newarray (java.lang.Object)[1];

        $r7 = staticinvoke <java.lang.Long: java.lang.Long valueOf(long)>(l0);

        $r4[0] = $r7;

        staticinvoke <timber.log.Timber: void v(java.lang.String,java.lang.Object[])>("Account switch, deleting draft from previous account: %d", $r4);

        $r8 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.Application getApplication()>();

        $r9 = staticinvoke <com.fsck.k9.controller.MessagingController: com.fsck.k9.controller.MessagingController getInstance(android.content.Context)>($r8);

        virtualinvoke $r9.<com.fsck.k9.controller.MessagingController: void deleteDraft(com.fsck.k9.Account,long)>(r3, l0);

     label3:
        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        virtualinvoke $r10.<com.fsck.k9.activity.compose.RecipientPresenter: void onSwitchAccount(com.fsck.k9.Account)>($r1);

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        virtualinvoke $r11.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void onSwitchAccount(com.fsck.k9.Account)>($r1);

     label4:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void switchToIdentity(com.fsck.k9.Identity)>($r2);

        return;

     label5:
        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account> = $r1;

        goto label3;
    }
    private void onDiscard()
    {
        com.fsck.k9.activity.MessageCompose r0;
        long $l0;
        byte $b1;
        android.app.Application $r1;
        com.fsck.k9.controller.MessagingController $r2;
        com.fsck.k9.Account $r3;
        android.os.Handler $r4;
        boolean $z0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        $b1 = $l0 cmp -1L;

        if $b1 == 0 goto label1;

        $r1 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.Application getApplication()>();

        $r2 = staticinvoke <com.fsck.k9.controller.MessagingController: com.fsck.k9.controller.MessagingController getInstance(android.content.Context)>($r1);

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        virtualinvoke $r2.<com.fsck.k9.controller.MessagingController: void deleteDraft(com.fsck.k9.Account,long)>($r3, $l0);

        r0.<com.fsck.k9.activity.MessageCompose: long draftId> = -1L;

     label1:
        $r4 = r0.<com.fsck.k9.activity.MessageCompose: android.os.Handler internalMessageHandler>;

        virtualinvoke $r4.<android.os.Handler: boolean sendEmptyMessage(int)>(5);

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean navigateUp>;

        if $z0 == 0 goto label2;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void openAutoExpandFolder()>();

        return;

     label2:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;
    }
    private void onReadReceipt()
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;
        java.lang.String $r1;
        android.content.Context $r2;
        android.widget.Toast $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt>;

        if $z0 != 0 goto label2;

        $r1 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: java.lang.String getString(int)>(2131165983);

        r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt> = 1;

     label1:
        $r2 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r3 = staticinvoke <android.widget.Toast: android.widget.Toast makeText(android.content.Context,java.lang.CharSequence,int)>($r2, $r1, 0);

        virtualinvoke $r3.<android.widget.Toast: void show()>();

        return;

     label2:
        $r1 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: java.lang.String getString(int)>(2131165982);

        r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt> = 0;

        goto label1;
    }
    private void openAutoExpandFolder()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.search.LocalSearch r1;
        com.fsck.k9.Account $r2;
        java.lang.String $r3, $r4;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r3 = virtualinvoke $r2.<com.fsck.k9.Account: java.lang.String getAutoExpandFolderName()>();

        r1 = new com.fsck.k9.search.LocalSearch;

        specialinvoke r1.<com.fsck.k9.search.LocalSearch: void <init>(java.lang.String)>($r3);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r4 = virtualinvoke $r2.<com.fsck.k9.Account: java.lang.String getUuid()>();

        virtualinvoke r1.<com.fsck.k9.search.LocalSearch: void addAccountUuid(java.lang.String)>($r4);

        virtualinvoke r1.<com.fsck.k9.search.LocalSearch: void addAllowedFolder(java.lang.String)>($r3);

        staticinvoke <com.fsck.k9.activity.MessageList: void actionDisplaySearch(android.content.Context,com.fsck.k9.search.SearchSpecification,boolean,boolean)>(r0, r1, 0, 1);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;
    }
    private void performSaveAfterChecks()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.message.MessageBuilder $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = specialinvoke r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder createMessageBuilder(boolean)>(1);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = $r1;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r1 == null goto label1;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(1);

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        virtualinvoke $r1.<com.fsck.k9.message.MessageBuilder: void buildAsync(com.fsck.k9.message.MessageBuilder$Callback)>(r0);

     label1:
        return;
    }
    private void prepareToFinish(boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;
        com.fsck.k9.Account $r1;
        long $l0;
        byte $b1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter0: boolean;

        r0.<com.fsck.k9.activity.MessageCompose: boolean navigateUp> = $z0;

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave>;

        if $z0 == 0 goto label2;

        $z0 = specialinvoke r0.<com.fsck.k9.activity.MessageCompose: boolean draftIsNotEmpty()>();

        if $z0 == 0 goto label2;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r1.<com.fsck.k9.Account: boolean hasDraftsFolder()>();

        if $z0 != 0 goto label1;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void showDialog(int)>(2);

        return;

     label1:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void showDialog(int)>(1);

        return;

     label2:
        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        $b1 = $l0 cmp -1L;

        if $b1 != 0 goto label3;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void onDiscard()>();

        return;

     label3:
        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean navigateUp>;

        if $z0 == 0 goto label4;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void openAutoExpandFolder()>();

        return;

     label4:
        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onBackPressed()>();

        return;
    }
    private void processDraftMessage(com.fsck.k9.mailstore.MessageViewInfo)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mailstore.MessageViewInfo $r1;
        com.fsck.k9.Identity r2, $r21;
        com.fsck.k9.mail.Message r3;
        android.app.Application $r4;
        com.fsck.k9.controller.MessagingController $r5;
        long $l0;
        android.widget.EditText $r6;
        java.lang.String $r7;
        com.fsck.k9.activity.compose.RecipientPresenter $r8;
        java.lang.String[] $r9;
        int $i1;
        boolean $z0;
        com.fsck.k9.activity.compose.AttachmentPresenter $r10;
        java.util.Map r11;
        com.fsck.k9.message.IdentityField $r12;
        java.lang.Object $r13;
        com.fsck.k9.activity.MessageReference $r14;
        android.content.Context $r15;
        com.fsck.k9.Preferences $r16;
        com.fsck.k9.Account $r17;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r18;
        com.fsck.k9.mailstore.LocalMessage r19;
        com.fsck.k9.mailstore.LocalFolder $r20;
        java.util.HashMap $r22;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mailstore.MessageViewInfo;

        r3 = $r1.<com.fsck.k9.mailstore.MessageViewInfo: com.fsck.k9.mail.Message message>;

        $r4 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.Application getApplication()>();

        $r5 = staticinvoke <com.fsck.k9.controller.MessagingController: com.fsck.k9.controller.MessagingController getInstance(android.content.Context)>($r4);

        $l0 = virtualinvoke $r5.<com.fsck.k9.controller.MessagingController: long getId(com.fsck.k9.mail.Message)>(r3);

        r0.<com.fsck.k9.activity.MessageCompose: long draftId> = $l0;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r7 = virtualinvoke r3.<com.fsck.k9.mail.Message: java.lang.String getSubject()>();

        virtualinvoke $r6.<android.widget.EditText: void setText(java.lang.CharSequence)>($r7);

        $r8 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r8.<com.fsck.k9.activity.compose.RecipientPresenter: void initFromDraftMessage(com.fsck.k9.mail.Message)>(r3);

        $r9 = virtualinvoke r3.<com.fsck.k9.mail.Message: java.lang.String[] getHeader(java.lang.String)>("In-Reply-To");

        $i1 = lengthof $r9;

        if $i1 < 1 goto label01;

        $r7 = $r9[0];

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId> = $r7;

     label01:
        $r9 = virtualinvoke r3.<com.fsck.k9.mail.Message: java.lang.String[] getHeader(java.lang.String)>("References");

        $i1 = lengthof $r9;

        if $i1 < 1 goto label02;

        $r7 = $r9[0];

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds> = $r7;

     label02:
        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed>;

        if $z0 != 0 goto label03;

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r10.<com.fsck.k9.activity.compose.AttachmentPresenter: boolean loadNonInlineAttachments(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

     label03:
        $r22 = new java.util.HashMap;

        r11 = $r22;

        specialinvoke $r22.<java.util.HashMap: void <init>()>();

        $r9 = virtualinvoke r3.<com.fsck.k9.mail.Message: java.lang.String[] getHeader(java.lang.String)>("X-K9mail-Identity");

        $i1 = lengthof $r9;

        if $i1 <= 0 goto label04;

        $r7 = $r9[0];

        if $r7 == null goto label04;

        $r7 = $r9[0];

        r11 = staticinvoke <com.fsck.k9.message.IdentityHeaderParser: java.util.Map parse(java.lang.String)>($r7);

     label04:
        $r21 = new com.fsck.k9.Identity;

        r2 = $r21;

        specialinvoke $r21.<com.fsck.k9.Identity: void <init>()>();

        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField SIGNATURE>;

        $z0 = interfaceinvoke r11.<java.util.Map: boolean containsKey(java.lang.Object)>($r12);

        if $z0 == 0 goto label09;

        virtualinvoke $r21.<com.fsck.k9.Identity: void setSignatureUse(boolean)>(1);

        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField SIGNATURE>;

        $r13 = interfaceinvoke r11.<java.util.Map: java.lang.Object get(java.lang.Object)>($r12);

        $r7 = (java.lang.String) $r13;

        virtualinvoke $r21.<com.fsck.k9.Identity: void setSignature(java.lang.String)>($r7);

        r0.<com.fsck.k9.activity.MessageCompose: boolean signatureChanged> = 1;

     label05:
        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField NAME>;

        $z0 = interfaceinvoke r11.<java.util.Map: boolean containsKey(java.lang.Object)>($r12);

        if $z0 == 0 goto label11;

        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField NAME>;

        $r13 = interfaceinvoke r11.<java.util.Map: java.lang.Object get(java.lang.Object)>($r12);

        $r7 = (java.lang.String) $r13;

        virtualinvoke r2.<com.fsck.k9.Identity: void setName(java.lang.String)>($r7);

        r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged> = 1;

     label06:
        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField EMAIL>;

        $z0 = interfaceinvoke r11.<java.util.Map: boolean containsKey(java.lang.Object)>($r12);

        if $z0 == 0 goto label12;

        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField EMAIL>;

        $r13 = interfaceinvoke r11.<java.util.Map: java.lang.Object get(java.lang.Object)>($r12);

        $r7 = (java.lang.String) $r13;

        virtualinvoke r2.<com.fsck.k9.Identity: void setEmail(java.lang.String)>($r7);

        r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged> = 1;

     label07:
        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField ORIGINAL_MESSAGE>;

        $z0 = interfaceinvoke r11.<java.util.Map: boolean containsKey(java.lang.Object)>($r12);

        if $z0 == 0 goto label08;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = null;

        $r12 = <com.fsck.k9.message.IdentityField: com.fsck.k9.message.IdentityField ORIGINAL_MESSAGE>;

        $r13 = interfaceinvoke r11.<java.util.Map: java.lang.Object get(java.lang.Object)>($r12);

        $r7 = (java.lang.String) $r13;

        $r14 = staticinvoke <com.fsck.k9.activity.MessageReference: com.fsck.k9.activity.MessageReference parse(java.lang.String)>($r7);

        if $r14 == null goto label08;

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r16 = staticinvoke <com.fsck.k9.Preferences: com.fsck.k9.Preferences getPreferences(android.content.Context)>($r15);

        $r7 = virtualinvoke $r14.<com.fsck.k9.activity.MessageReference: java.lang.String getAccountUuid()>();

        $r17 = virtualinvoke $r16.<com.fsck.k9.Preferences: com.fsck.k9.Account getAccount(java.lang.String)>($r7);

        if $r17 == null goto label08;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = $r14;

     label08:
        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity> = r2;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateSignature()>();

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateFrom()>();

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        virtualinvoke $r18.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void processDraftMessage(com.fsck.k9.mailstore.MessageViewInfo,java.util.Map)>($r1, r11);

        return;

     label09:
        $z0 = r3 instanceof com.fsck.k9.mailstore.LocalMessage;

        if $z0 == 0 goto label10;

        r19 = (com.fsck.k9.mailstore.LocalMessage) r3;

        $r20 = virtualinvoke r19.<com.fsck.k9.mailstore.LocalMessage: com.fsck.k9.mailstore.LocalFolder getFolder()>();

        $z0 = virtualinvoke $r20.<com.fsck.k9.mailstore.LocalFolder: boolean getSignatureUse()>();

        virtualinvoke $r21.<com.fsck.k9.Identity: void setSignatureUse(boolean)>($z0);

     label10:
        $r21 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r7 = virtualinvoke $r21.<com.fsck.k9.Identity: java.lang.String getSignature()>();

        virtualinvoke r2.<com.fsck.k9.Identity: void setSignature(java.lang.String)>($r7);

        goto label05;

     label11:
        $r21 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r7 = virtualinvoke $r21.<com.fsck.k9.Identity: java.lang.String getName()>();

        virtualinvoke r2.<com.fsck.k9.Identity: void setName(java.lang.String)>($r7);

        goto label06;

     label12:
        $r21 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r7 = virtualinvoke $r21.<com.fsck.k9.Identity: java.lang.String getEmail()>();

        virtualinvoke r2.<com.fsck.k9.Identity: void setEmail(java.lang.String)>($r7);

        goto label07;
    }
    private void processMessageToForward(com.fsck.k9.mailstore.MessageViewInfo) throws com.fsck.k9.mail.MessagingException
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mailstore.MessageViewInfo $r1;
        com.fsck.k9.mail.Message r2;
        java.lang.String $r3, $r5;
        java.util.Locale $r4;
        boolean $z0;
        android.widget.EditText $r6;
        java.lang.StringBuilder $r7;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r8;
        com.fsck.k9.activity.compose.AttachmentPresenter $r9;
        java.lang.Object[] $r10;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mailstore.MessageViewInfo;

        r2 = $r1.<com.fsck.k9.mailstore.MessageViewInfo: com.fsck.k9.mail.Message message>;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getSubject()>();

        if $r3 == null goto label3;

        $r4 = <java.util.Locale: java.util.Locale US>;

        $r5 = virtualinvoke $r3.<java.lang.String: java.lang.String toLowerCase(java.util.Locale)>($r4);

        $z0 = virtualinvoke $r5.<java.lang.String: boolean startsWith(java.lang.String)>("fwd:");

        if $z0 != 0 goto label3;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r7 = new java.lang.StringBuilder;

        specialinvoke $r7.<java.lang.StringBuilder: void <init>()>();

        $r7 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Fwd: ");

        $r7 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r3);

        $r3 = virtualinvoke $r7.<java.lang.StringBuilder: java.lang.String toString()>();

        virtualinvoke $r6.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

     label1:
        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getMessageId()>();

        $z0 = staticinvoke <android.text.TextUtils: boolean isEmpty(java.lang.CharSequence)>($r3);

        if $z0 != 0 goto label4;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getMessageId()>();

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId> = $r3;

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId>;

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds> = $r3;

     label2:
        $r8 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        virtualinvoke $r8.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void processMessageToForward(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

        $r9 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r9.<com.fsck.k9.activity.compose.AttachmentPresenter: void processMessageToForward(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

        return;

     label3:
        $r6 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r6.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

        goto label1;

     label4:
        $r10 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void d(java.lang.String,java.lang.Object[])>("could not get Message-ID.", $r10);

        goto label2;
    }
    private void processMessageToReplyTo(com.fsck.k9.mailstore.MessageViewInfo) throws com.fsck.k9.mail.MessagingException
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mailstore.MessageViewInfo $r1;
        com.fsck.k9.mail.Message r2;
        java.lang.String $r3, $r7;
        java.util.regex.Pattern $r4;
        java.util.regex.Matcher $r5;
        java.util.Locale $r6;
        boolean $z0;
        android.widget.EditText $r8;
        java.lang.StringBuilder $r9;
        com.fsck.k9.activity.MessageCompose$Action $r10, $r11;
        com.fsck.k9.activity.compose.RecipientPresenter $r12;
        int $i0;
        java.lang.String[] $r13;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r14;
        com.fsck.k9.Account $r15;
        com.fsck.k9.Identity $r16, $r17;
        java.lang.Object[] $r18;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mailstore.MessageViewInfo;

        r2 = $r1.<com.fsck.k9.mailstore.MessageViewInfo: com.fsck.k9.mail.Message message>;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getSubject()>();

        if $r3 == null goto label06;

        $r4 = <com.fsck.k9.activity.MessageCompose: java.util.regex.Pattern PREFIX>;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getSubject()>();

        $r5 = virtualinvoke $r4.<java.util.regex.Pattern: java.util.regex.Matcher matcher(java.lang.CharSequence)>($r3);

        $r3 = virtualinvoke $r5.<java.util.regex.Matcher: java.lang.String replaceFirst(java.lang.String)>("");

        $r6 = <java.util.Locale: java.util.Locale US>;

        $r7 = virtualinvoke $r3.<java.lang.String: java.lang.String toLowerCase(java.util.Locale)>($r6);

        $z0 = virtualinvoke $r7.<java.lang.String: boolean startsWith(java.lang.String)>("re:");

        if $z0 != 0 goto label05;

        $r8 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r9 = new java.lang.StringBuilder;

        specialinvoke $r9.<java.lang.StringBuilder: void <init>()>();

        $r9 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>("Re: ");

        $r9 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r3);

        $r3 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.String toString()>();

        virtualinvoke $r8.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

     label01:
        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r11 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        if $r10 != $r11 goto label07;

        $z0 = 1;

     label02:
        $r12 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r12.<com.fsck.k9.activity.compose.RecipientPresenter: void initFromReplyToMessage(com.fsck.k9.mail.Message,boolean)>(r2, $z0);

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getMessageId()>();

        if $r3 == null goto label09;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getMessageId()>();

        $i0 = virtualinvoke $r3.<java.lang.String: int length()>();

        if $i0 <= 0 goto label09;

        $r3 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String getMessageId()>();

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId> = $r3;

        $r13 = virtualinvoke r2.<com.fsck.k9.mail.Message: java.lang.String[] getReferences()>();

        if $r13 == null goto label08;

        $i0 = lengthof $r13;

        if $i0 <= 0 goto label08;

        $r9 = new java.lang.StringBuilder;

        specialinvoke $r9.<java.lang.StringBuilder: void <init>()>();

        $r3 = staticinvoke <android.text.TextUtils: java.lang.String join(java.lang.CharSequence,java.lang.Object[])>("", $r13);

        $r9 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r3);

        $r9 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>(" ");

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId>;

        $r9 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.StringBuilder append(java.lang.String)>($r3);

        $r3 = virtualinvoke $r9.<java.lang.StringBuilder: java.lang.String toString()>();

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds> = $r3;

     label03:
        $r14 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        virtualinvoke $r14.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void initFromReplyToMessage(com.fsck.k9.mailstore.MessageViewInfo,com.fsck.k9.activity.MessageCompose$Action)>($r1, $r10);

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r11 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY>;

        if $r10 == $r11 goto label04;

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r11 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        if $r10 != $r11 goto label10;

     label04:
        $r15 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r16 = staticinvoke <com.fsck.k9.helper.IdentityHelper: com.fsck.k9.Identity getRecipientIdentityFromMessage(com.fsck.k9.Account,com.fsck.k9.mail.Message)>($r15, r2);

        $r15 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r17 = virtualinvoke $r15.<com.fsck.k9.Account: com.fsck.k9.Identity getIdentity(int)>(0);

        if $r16 == $r17 goto label10;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void switchToIdentity(com.fsck.k9.Identity)>($r16);

        return;

     label05:
        $r8 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r8.<android.widget.EditText: void setText(java.lang.CharSequence)>($r3);

        goto label01;

     label06:
        $r8 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r8.<android.widget.EditText: void setText(java.lang.CharSequence)>("");

        goto label01;

     label07:
        $z0 = 0;

        goto label02;

     label08:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId>;

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds> = $r3;

        goto label03;

     label09:
        $r18 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void d(java.lang.String,java.lang.Object[])>("could not get Message-ID.", $r18);

        goto label03;

     label10:
        return;
    }
    private void processSourceMessage(com.fsck.k9.mailstore.MessageViewInfo)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mailstore.MessageViewInfo $r1;
        com.fsck.k9.mail.MessagingException r2;
        int $i0;
        int[] $r3;
        com.fsck.k9.activity.MessageCompose$Action $r4;
        java.lang.Object[] $r5;
        java.lang.Throwable $r6;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mailstore.MessageViewInfo;

     label01:
        $r3 = <com.fsck.k9.activity.MessageCompose$14: int[] $SwitchMap$com$fsck$k9$activity$MessageCompose$Action>;

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

     label02:
        $i0 = virtualinvoke $r4.<com.fsck.k9.activity.MessageCompose$Action: int ordinal()>();

     label03:
        $i0 = $r3[$i0];

     label04:
        lookupswitch($i0)
        {
            case 1: goto label09;
            case 2: goto label09;
            case 3: goto label14;
            case 4: goto label17;
            default: goto label05;
        };

     label05:
        $r5 = newarray (java.lang.Object)[0];

     label06:
        staticinvoke <timber.log.Timber: void w(java.lang.String,java.lang.Object[])>("processSourceMessage() called with unsupported action", $r5);

     label07:
        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = 1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

     label08:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return;

     label09:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void processMessageToReplyTo(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

     label10:
        goto label07;

     label11:
        r2 := @caughtexception;

     label12:
        $r5 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void e(java.lang.Throwable,java.lang.String,java.lang.Object[])>(r2, "Error while processing source message: ", $r5);

     label13:
        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = 1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        goto label08;

     label14:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void processMessageToForward(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

     label15:
        goto label07;

     label16:
        $r6 := @caughtexception;

        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = 1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        throw $r6;

     label17:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void processDraftMessage(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

     label18:
        goto label07;

        catch com.fsck.k9.mail.MessagingException from label02 to label03 with label11;
        catch com.fsck.k9.mail.MessagingException from label06 to label07 with label11;
        catch java.lang.Throwable from label01 to label04 with label16;
        catch java.lang.Throwable from label05 to label07 with label16;
        catch com.fsck.k9.mail.MessagingException from label09 to label10 with label11;
        catch java.lang.Throwable from label09 to label10 with label16;
        catch java.lang.Throwable from label12 to label13 with label16;
        catch com.fsck.k9.mail.MessagingException from label14 to label15 with label11;
        catch java.lang.Throwable from label14 to label15 with label16;
        catch com.fsck.k9.mail.MessagingException from label17 to label18 with label11;
        catch java.lang.Throwable from label17 to label18 with label16;
    }
    private void setCurrentMessageFormat(com.fsck.k9.message.SimpleMessageFormat)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.message.SimpleMessageFormat $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.message.SimpleMessageFormat;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.SimpleMessageFormat currentMessageFormat> = $r1;

        return;
    }
    private void setTitle()
    {
        com.fsck.k9.activity.MessageCompose r0;
        int $i0;
        com.fsck.k9.activity.MessageCompose$Action $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $i0 = virtualinvoke $r1.<com.fsck.k9.activity.MessageCompose$Action: int getTitleResource()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setTitle(int)>($i0);

        return;
    }
    private void switchToIdentity(com.fsck.k9.Identity)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.Identity $r1;
        com.fsck.k9.activity.compose.RecipientPresenter $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.Identity;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity> = $r1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged> = 1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateFrom()>();

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateSignature()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onSwitchIdentity(com.fsck.k9.Identity)>($r1);

        return;
    }
    private void updateFrom()
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.widget.TextView $r1;
        java.lang.String $r2;
        com.fsck.k9.Identity $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.TextView chooseIdentityButton>;

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r2 = virtualinvoke $r3.<com.fsck.k9.Identity: java.lang.String getEmail()>();

        virtualinvoke $r1.<android.widget.TextView: void setText(java.lang.CharSequence)>($r2);

        return;
    }
    private void updateSignature()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.Identity $r1;
        boolean $z0;
        com.fsck.k9.ui.EolConvertingEditText $r2;
        java.lang.String $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $z0 = virtualinvoke $r1.<com.fsck.k9.Identity: boolean getSignatureUse()>();

        if $z0 == 0 goto label1;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $r3 = virtualinvoke $r1.<com.fsck.k9.Identity: java.lang.String getSignature()>();

        virtualinvoke $r2.<com.fsck.k9.ui.EolConvertingEditText: void setCharacters(java.lang.CharSequence)>($r3);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        virtualinvoke $r2.<com.fsck.k9.ui.EolConvertingEditText: void setVisibility(int)>(0);

        return;

     label1:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        virtualinvoke $r2.<com.fsck.k9.ui.EolConvertingEditText: void setVisibility(int)>(8);

        return;
    }
    public void launchUserInteractionPendingIntent(android.app.PendingIntent, int)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.app.PendingIntent $r1;
        android.content.IntentSender$SendIntentException r2;
        android.content.IntentSender $r3;
        int $i0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.app.PendingIntent;

        $i0 := @parameter1: int;

        $i0 = $i0 | 256;

     label1:
        $r3 = virtualinvoke $r1.<android.app.PendingIntent: android.content.IntentSender getIntentSender()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void startIntentSenderForResult(android.content.IntentSender,int,android.content.Intent,int,int,int)>($r3, $i0, null, 0, 0, 0);

     label2:
        return;

     label3:
        r2 := @caughtexception;

        virtualinvoke r2.<android.content.IntentSender$SendIntentException: void printStackTrace()>();

        return;

        catch android.content.IntentSender$SendIntentException from label1 to label2 with label3;
    }
    public void loadLocalMessageForDisplay(com.fsck.k9.mailstore.MessageViewInfo, com.fsck.k9.activity.MessageCompose$Action)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mailstore.MessageViewInfo $r1;
        com.fsck.k9.activity.MessageCompose$Action $r2;
        com.fsck.k9.mail.MessagingException r3;
        boolean $z0;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r4;
        com.fsck.k9.message.QuotedTextMode $r5;
        java.lang.Object[] $r6;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mailstore.MessageViewInfo;

        $r2 := @parameter1: com.fsck.k9.activity.MessageCompose$Action;

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed>;

        if $z0 == 0 goto label4;

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

     label1:
        virtualinvoke $r4.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void populateUIWithQuotedMessage(com.fsck.k9.mailstore.MessageViewInfo,boolean,com.fsck.k9.activity.MessageCompose$Action)>($r1, 1, $r2);

     label2:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return;

     label3:
        r3 := @caughtexception;

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $r5 = <com.fsck.k9.message.QuotedTextMode: com.fsck.k9.message.QuotedTextMode HIDE>;

        virtualinvoke $r4.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void showOrHideQuotedText(com.fsck.k9.message.QuotedTextMode)>($r5);

        $r6 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void e(java.lang.Throwable,java.lang.String,java.lang.Object[])>(r3, "Could not re-process source message; deleting quoted text to be safe.", $r6);

        goto label2;

     label4:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void processSourceMessage(com.fsck.k9.mailstore.MessageViewInfo)>($r1);

        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = 1;

        return;

        catch com.fsck.k9.mail.MessagingException from label1 to label2 with label3;
    }
    public void loadQuotedTextForEdit()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.activity.MessageReference $r1;
        java.lang.IllegalStateException $r2;
        com.fsck.k9.activity.MessageLoaderHelper $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        if $r1 != null goto label1;

        $r2 = new java.lang.IllegalStateException;

        specialinvoke $r2.<java.lang.IllegalStateException: void <init>(java.lang.String)>("tried to edit quoted message with no referenced message");

        throw $r2;

     label1:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper messageLoaderHelper>;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        virtualinvoke $r3.<com.fsck.k9.activity.MessageLoaderHelper: void asyncStartOrResumeLoadingMessage(com.fsck.k9.activity.MessageReference,android.os.Parcelable)>($r1, null);

        return;
    }
    protected void onActivityResult(int, int, android.content.Intent)
    {
        com.fsck.k9.activity.MessageCompose r0;
        int $i0, $i1, $i2;
        android.content.Intent $r1;
        com.fsck.k9.message.MessageBuilder $r2;
        java.lang.Object[] $r3;
        com.fsck.k9.activity.compose.RecipientPresenter $r4;
        com.fsck.k9.activity.MessageLoaderHelper $r5;
        com.fsck.k9.activity.compose.AttachmentPresenter $r6;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $i1 := @parameter0: int;

        $i0 := @parameter1: int;

        $r1 := @parameter2: android.content.Intent;

        r0.<com.fsck.k9.activity.MessageCompose: boolean isInSubActivity> = 0;

        $i2 = $i1 & 2048;

        if $i2 != 2048 goto label2;

        $i1 = $i1 ^ 2048;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r2 != null goto label1;

        $r3 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void e(java.lang.String,java.lang.Object[])>("Got a message builder activity result for no message builder, this is an illegal state!", $r3);

        return;

     label1:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        virtualinvoke $r2.<com.fsck.k9.message.MessageBuilder: void onActivityResult(int,int,android.content.Intent,com.fsck.k9.message.MessageBuilder$Callback)>($i1, $i0, $r1, r0);

        return;

     label2:
        $i2 = $i1 & 256;

        if $i2 != 256 goto label3;

        $i1 = $i1 ^ 256;

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r4.<com.fsck.k9.activity.compose.RecipientPresenter: void onActivityResult(int,int,android.content.Intent)>($i1, $i0, $r1);

        return;

     label3:
        $i2 = $i1 & 512;

        if $i2 != 512 goto label4;

        $i1 = $i1 ^ 512;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper messageLoaderHelper>;

        virtualinvoke $r5.<com.fsck.k9.activity.MessageLoaderHelper: void onActivityResult(int,int,android.content.Intent)>($i1, $i0, $r1);

        return;

     label4:
        $i2 = $i1 & 1024;

        if $i2 != 1024 goto label5;

        $i1 = $i1 ^ 1024;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r6.<com.fsck.k9.activity.compose.AttachmentPresenter: void onActivityResult(int,int,android.content.Intent)>($i0, $i1, $r1);

     label5:
        return;
    }
    public void onAttachmentAdded()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

        return;
    }
    public void onAttachmentRemoved()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

        return;
    }
    public void onBackPressed()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void prepareToFinish(boolean)>(0);

        return;
    }
    public void onClick(android.view.View)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.view.View $r1;
        int $i0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.view.View;

        $i0 = virtualinvoke $r1.<android.view.View: int getId()>();

        lookupswitch($i0)
        {
            case 2131493002: goto label2;
            default: goto label1;
        };

     label1:
        return;

     label2:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void showDialog(int)>(3);

        return;
    }
    public void onCreate(android.os.Bundle)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.os.Bundle $r1, $r28;
        com.fsck.k9.activity.compose.RecipientMvpView r2;
        com.fsck.k9.message.ComposePgpInlineDecider r3;
        com.fsck.k9.message.ComposePgpEnableByDefaultDecider r4;
        com.fsck.k9.helper.ReplyToParser $r5;
        com.fsck.k9.activity.MessageCompose$1 r6;
        android.util.TypedValue r7;
        com.fsck.k9.ui.compose.QuotedMessageMvpView r8;
        com.fsck.k9.activity.MessageCompose$2 r9;
        android.view.ContextThemeWrapper r10;
        android.content.Intent $r11;
        boolean $z0;
        com.fsck.k9.K9$Theme $r12, $r13;
        int $i0;
        android.view.LayoutInflater $r14;
        android.view.View $r15;
        android.content.res.Resources$Theme $r16;
        java.lang.String $r17, $r50;
        com.fsck.k9.activity.MessageReference $r18;
        com.fsck.k9.Preferences $r19;
        com.fsck.k9.Account $r20;
        com.fsck.k9.helper.Contacts $r21;
        android.widget.TextView $r22;
        com.fsck.k9.activity.compose.RecipientPresenter $r23;
        android.content.Context $r24;
        android.app.LoaderManager $r25;
        com.fsck.k9.message.AutocryptStatusInteractor $r26;
        android.widget.EditText $r27;
        com.fsck.k9.ui.EolConvertingEditText r29, r30, $r34;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r31;
        com.fsck.k9.activity.compose.AttachmentPresenter $r32;
        com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentMvpView $r33;
        android.widget.LinearLayout $r35;
        com.fsck.k9.message.QuotedTextMode $r36;
        com.fsck.k9.activity.MessageCompose$Action $r37, $r39;
        com.fsck.k9.Identity $r38;
        com.fsck.k9.activity.MessageLoaderHelper $r40;
        android.app.FragmentManager $r41;
        com.fsck.k9.activity.MessageLoaderHelper$MessageLoaderCallbacks $r42;
        android.os.Handler $r43;
        android.os.Parcelable $r44;
        com.fsck.k9.mail.Address[] $r45;
        com.fsck.k9.mail.Flag $r46;
        com.fsck.k9.FontSizes $r47;
        java.lang.Object $r48;
        com.fsck.k9.message.MessageBuilder $r49;
        java.lang.Object[] $r51;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.os.Bundle;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onCreate(android.os.Bundle)>($r1);

        $r11 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Intent getIntent()>();

        $z0 = staticinvoke <com.fsck.k9.activity.UpgradeDatabases: boolean actionUpgradeDatabases(android.content.Context,android.content.Intent)>(r0, $r11);

        if $z0 == 0 goto label01;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;

     label01:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: boolean requestWindowFeature(int)>(5);

        $r12 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.K9$Theme getK9ComposerThemeSetting()>();

        $r13 = <com.fsck.k9.K9$Theme: com.fsck.k9.K9$Theme USE_GLOBAL>;

        if $r12 == $r13 goto label05;

        r10 = new android.view.ContextThemeWrapper;

        $r12 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.K9$Theme getK9ComposerTheme()>();

        $i0 = staticinvoke <com.fsck.k9.K9: int getK9ThemeResourceId(com.fsck.k9.K9$Theme)>($r12);

        specialinvoke r10.<android.view.ContextThemeWrapper: void <init>(android.content.Context,int)>(r0, $i0);

        $r14 = staticinvoke <android.view.LayoutInflater: android.view.LayoutInflater 'from'(android.content.Context)>(r10);

        $r15 = virtualinvoke $r14.<android.view.LayoutInflater: android.view.View inflate(int,android.view.ViewGroup)>(2130903071, null);

        r7 = new android.util.TypedValue;

        specialinvoke r7.<android.util.TypedValue: void <init>()>();

        $r16 = virtualinvoke r10.<android.view.ContextThemeWrapper: android.content.res.Resources$Theme getTheme()>();

        virtualinvoke $r16.<android.content.res.Resources$Theme: boolean resolveAttribute(int,android.util.TypedValue,boolean)>(2130772020, r7, 1);

        $i0 = r7.<android.util.TypedValue: int data>;

        virtualinvoke $r15.<android.view.View: void setBackgroundColor(int)>($i0);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setContentView(android.view.View)>($r15);

     label02:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void initializeActionBar()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(0);

        $r11 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Intent getIntent()>();

        $r17 = virtualinvoke $r11.<android.content.Intent: java.lang.String getStringExtra(java.lang.String)>("message_reference");

        $r18 = staticinvoke <com.fsck.k9.activity.MessageReference: com.fsck.k9.activity.MessageReference parse(java.lang.String)>($r17);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = $r18;

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        if $r18 == null goto label06;

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        $r17 = virtualinvoke $r18.<com.fsck.k9.activity.MessageReference: java.lang.String getAccountUuid()>();

     label03:
        $r19 = staticinvoke <com.fsck.k9.Preferences: com.fsck.k9.Preferences getPreferences(android.content.Context)>(r0);

        $r20 = virtualinvoke $r19.<com.fsck.k9.Preferences: com.fsck.k9.Account getAccount(java.lang.String)>($r17);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account> = $r20;

        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        if $r20 != null goto label04;

        $r19 = staticinvoke <com.fsck.k9.Preferences: com.fsck.k9.Preferences getPreferences(android.content.Context)>(r0);

        $r20 = virtualinvoke $r19.<com.fsck.k9.Preferences: com.fsck.k9.Account getDefaultAccount()>();

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account> = $r20;

     label04:
        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        if $r20 != null goto label07;

        $r11 = new android.content.Intent;

        specialinvoke $r11.<android.content.Intent: void <init>(android.content.Context,java.lang.Class)>(r0, class "Lcom/fsck/k9/activity/Accounts;");

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void startActivity(android.content.Intent)>($r11);

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;

     label05:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setContentView(int)>(2130903071);

        goto label02;

     label06:
        $r17 = virtualinvoke $r11.<android.content.Intent: java.lang.String getStringExtra(java.lang.String)>("account");

        goto label03;

     label07:
        $r21 = staticinvoke <com.fsck.k9.helper.Contacts: com.fsck.k9.helper.Contacts getInstance(android.content.Context)>(r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.helper.Contacts contacts> = $r21;

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131493002);

        $r22 = (android.widget.TextView) $r15;

        r0.<com.fsck.k9.activity.MessageCompose: android.widget.TextView chooseIdentityButton> = $r22;

        $r22 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.TextView chooseIdentityButton>;

        virtualinvoke $r22.<android.widget.TextView: void setOnClickListener(android.view.View$OnClickListener)>(r0);

        r2 = new com.fsck.k9.activity.compose.RecipientMvpView;

        specialinvoke r2.<com.fsck.k9.activity.compose.RecipientMvpView: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r3 = new com.fsck.k9.message.ComposePgpInlineDecider;

        specialinvoke r3.<com.fsck.k9.message.ComposePgpInlineDecider: void <init>()>();

        r4 = new com.fsck.k9.message.ComposePgpEnableByDefaultDecider;

        specialinvoke r4.<com.fsck.k9.message.ComposePgpEnableByDefaultDecider: void <init>()>();

        $r23 = new com.fsck.k9.activity.compose.RecipientPresenter;

        $r24 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r25 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.LoaderManager getLoaderManager()>();

        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r26 = staticinvoke <com.fsck.k9.message.AutocryptStatusInteractor: com.fsck.k9.message.AutocryptStatusInteractor getInstance()>();

        $r5 = new com.fsck.k9.helper.ReplyToParser;

        specialinvoke $r5.<com.fsck.k9.helper.ReplyToParser: void <init>()>();

        specialinvoke $r23.<com.fsck.k9.activity.compose.RecipientPresenter: void <init>(android.content.Context,android.app.LoaderManager,com.fsck.k9.activity.compose.RecipientMvpView,com.fsck.k9.Account,com.fsck.k9.message.ComposePgpInlineDecider,com.fsck.k9.message.ComposePgpEnableByDefaultDecider,com.fsck.k9.message.AutocryptStatusInteractor,com.fsck.k9.helper.ReplyToParser,com.fsck.k9.activity.compose.RecipientPresenter$RecipientsChangedListener)>($r24, $r25, r2, $r20, r3, r4, $r26, $r5, r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter> = $r23;

        $r23 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r23.<com.fsck.k9.activity.compose.RecipientPresenter: void asyncUpdateCryptoStatus()>();

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131492986);

        $r27 = (android.widget.EditText) $r15;

        r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView> = $r27;

        $r27 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        $r28 = virtualinvoke $r27.<android.widget.EditText: android.os.Bundle getInputExtras(boolean)>(1);

        virtualinvoke $r28.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("allowEmoji", 1);

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131492989);

        r29 = (com.fsck.k9.ui.EolConvertingEditText) $r15;

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131492997);

        r30 = (com.fsck.k9.ui.EolConvertingEditText) $r15;

        r8 = new com.fsck.k9.ui.compose.QuotedMessageMvpView;

        specialinvoke r8.<com.fsck.k9.ui.compose.QuotedMessageMvpView: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        $r31 = new com.fsck.k9.ui.compose.QuotedMessagePresenter;

        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        specialinvoke $r31.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void <init>(com.fsck.k9.activity.MessageCompose,com.fsck.k9.ui.compose.QuotedMessageMvpView,com.fsck.k9.Account)>(r0, r8, $r20);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter> = $r31;

        $r32 = new com.fsck.k9.activity.compose.AttachmentPresenter;

        $r24 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r33 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentMvpView attachmentMvpView>;

        $r25 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.LoaderManager getLoaderManager()>();

        specialinvoke $r32.<com.fsck.k9.activity.compose.AttachmentPresenter: void <init>(android.content.Context,com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentMvpView,android.app.LoaderManager,com.fsck.k9.activity.compose.AttachmentPresenter$AttachmentsChangedListener)>($r24, $r33, $r25, r0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter> = $r32;

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131492988);

        $r34 = (com.fsck.k9.ui.EolConvertingEditText) $r15;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView> = $r34;

        $r34 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        $r28 = virtualinvoke $r34.<com.fsck.k9.ui.EolConvertingEditText: android.os.Bundle getInputExtras(boolean)>(1);

        virtualinvoke $r28.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("allowEmoji", 1);

        $r15 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.View findViewById(int)>(2131492987);

        $r35 = (android.widget.LinearLayout) $r15;

        r0.<com.fsck.k9.activity.MessageCompose: android.widget.LinearLayout attachmentsView> = $r35;

        r6 = new com.fsck.k9.activity.MessageCompose$1;

        specialinvoke r6.<com.fsck.k9.activity.MessageCompose$1: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r9 = new com.fsck.k9.activity.MessageCompose$2;

        specialinvoke r9.<com.fsck.k9.activity.MessageCompose$2: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        virtualinvoke r2.<com.fsck.k9.activity.compose.RecipientMvpView: void addTextChangedListener(android.text.TextWatcher)>(r6);

        virtualinvoke r8.<com.fsck.k9.ui.compose.QuotedMessageMvpView: void addTextChangedListener(android.text.TextWatcher)>(r6);

        $r27 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r27.<android.widget.EditText: void addTextChangedListener(android.text.TextWatcher)>(r6);

        $r34 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke $r34.<com.fsck.k9.ui.EolConvertingEditText: void addTextChangedListener(android.text.TextWatcher)>(r6);

        $r31 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $r36 = <com.fsck.k9.message.QuotedTextMode: com.fsck.k9.message.QuotedTextMode NONE>;

        virtualinvoke $r31.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void showOrHideQuotedText(com.fsck.k9.message.QuotedTextMode)>($r36);

        $r27 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r27.<android.widget.EditText: void setOnFocusChangeListener(android.view.View$OnFocusChangeListener)>(r0);

        $r34 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke $r34.<com.fsck.k9.ui.EolConvertingEditText: void setOnFocusChangeListener(android.view.View$OnFocusChangeListener)>(r0);

        if $r1 == null goto label08;

        $z0 = virtualinvoke $r1.<android.os.Bundle: boolean getBoolean(java.lang.String,boolean)>("com.fsck.k9.activity.MessageCompose.stateKeySourceMessageProced", 0);

        r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed> = $z0;

     label08:
        $z0 = specialinvoke r0.<com.fsck.k9.activity.MessageCompose: boolean initFromIntent(android.content.Intent)>($r11);

        if $z0 == 0 goto label21;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action COMPOSE>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

     label09:
        $r38 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        if $r38 != null goto label10;

        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r38 = virtualinvoke $r20.<com.fsck.k9.Account: com.fsck.k9.Identity getIdentity(int)>(0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity> = $r38;

     label10:
        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r20.<com.fsck.k9.Account: boolean isSignatureBeforeQuotedText()>();

        if $z0 == 0 goto label27;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView> = r29;

        virtualinvoke r30.<com.fsck.k9.ui.EolConvertingEditText: void setVisibility(int)>(8);

     label11:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateSignature()>();

        r29 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        virtualinvoke r29.<com.fsck.k9.ui.EolConvertingEditText: void addTextChangedListener(android.text.TextWatcher)>(r9);

        $r38 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        $z0 = virtualinvoke $r38.<com.fsck.k9.Identity: boolean getSignatureUse()>();

        if $z0 != 0 goto label12;

        r29 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        virtualinvoke r29.<com.fsck.k9.ui.EolConvertingEditText: void setVisibility(int)>(8);

     label12:
        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r20.<com.fsck.k9.Account: boolean isMessageReadReceiptAlways()>();

        r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt> = $z0;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateFrom()>();

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed>;

        if $z0 != 0 goto label15;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY>;

        if $r37 == $r39 goto label13;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        if $r37 == $r39 goto label13;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action FORWARD>;

        if $r37 == $r39 goto label13;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        if $r37 != $r39 goto label14;

     label13:
        $r40 = new com.fsck.k9.activity.MessageLoaderHelper;

        $r25 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.LoaderManager getLoaderManager()>();

        $r41 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.app.FragmentManager getFragmentManager()>();

        $r42 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper$MessageLoaderCallbacks messageLoaderCallbacks>;

        specialinvoke $r40.<com.fsck.k9.activity.MessageLoaderHelper: void <init>(android.content.Context,android.app.LoaderManager,android.app.FragmentManager,com.fsck.k9.activity.MessageLoaderHelper$MessageLoaderCallbacks)>(r0, $r25, $r41, $r42);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper messageLoaderHelper> = $r40;

        $r43 = r0.<com.fsck.k9.activity.MessageCompose: android.os.Handler internalMessageHandler>;

        virtualinvoke $r43.<android.os.Handler: boolean sendEmptyMessage(int)>(1);

        $r44 = virtualinvoke $r11.<android.content.Intent: android.os.Parcelable getParcelableExtra(java.lang.String)>("message_decryption_result");

        $r40 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageLoaderHelper messageLoaderHelper>;

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        virtualinvoke $r40.<com.fsck.k9.activity.MessageLoaderHelper: void asyncStartOrResumeLoadingMessage(com.fsck.k9.activity.MessageReference,android.os.Parcelable)>($r18, $r44);

     label14:
        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        if $r37 == $r39 goto label15;

        $r20 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r17 = virtualinvoke $r20.<com.fsck.k9.Account: java.lang.String getAlwaysBcc()>();

        $z0 = staticinvoke <android.text.TextUtils: boolean isEmpty(java.lang.CharSequence)>($r17);

        if $z0 != 0 goto label15;

        $r23 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $r45 = staticinvoke <com.fsck.k9.mail.Address: com.fsck.k9.mail.Address[] parse(java.lang.String)>($r17);

        virtualinvoke $r23.<com.fsck.k9.activity.compose.RecipientPresenter: void addBccAddresses(com.fsck.k9.mail.Address[])>($r45);

     label15:
        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY>;

        if $r37 == $r39 goto label16;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        if $r37 != $r39 goto label17;

     label16:
        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        $r46 = <com.fsck.k9.mail.Flag: com.fsck.k9.mail.Flag ANSWERED>;

        $r18 = virtualinvoke $r18.<com.fsck.k9.activity.MessageReference: com.fsck.k9.activity.MessageReference withModifiedFlag(com.fsck.k9.mail.Flag)>($r46);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = $r18;

     label17:
        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY>;

        if $r37 == $r39 goto label18;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        if $r37 == $r39 goto label18;

        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        if $r37 != $r39 goto label28;

     label18:
        r29 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke r29.<com.fsck.k9.ui.EolConvertingEditText: boolean requestFocus()>();

     label19:
        $r37 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r39 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action FORWARD>;

        if $r37 != $r39 goto label20;

        $r18 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        $r46 = <com.fsck.k9.mail.Flag: com.fsck.k9.mail.Flag FORWARDED>;

        $r18 = virtualinvoke $r18.<com.fsck.k9.activity.MessageReference: com.fsck.k9.activity.MessageReference withModifiedFlag(com.fsck.k9.mail.Flag)>($r46);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference> = $r18;

     label20:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        $i0 = virtualinvoke $r47.<com.fsck.k9.FontSizes: int getMessageComposeInput()>();

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        virtualinvoke r2.<com.fsck.k9.activity.compose.RecipientMvpView: void setFontSizes(com.fsck.k9.FontSizes,int)>($r47, $i0);

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        virtualinvoke r8.<com.fsck.k9.ui.compose.QuotedMessageMvpView: void setFontSizes(com.fsck.k9.FontSizes,int)>($r47, $i0);

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        $r27 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.EditText subjectView>;

        virtualinvoke $r47.<com.fsck.k9.FontSizes: void setViewTextSize(android.widget.TextView,int)>($r27, $i0);

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        r29 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText messageContentView>;

        virtualinvoke $r47.<com.fsck.k9.FontSizes: void setViewTextSize(android.widget.TextView,int)>(r29, $i0);

        $r47 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.FontSizes getFontSizes()>();

        r29 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView>;

        virtualinvoke $r47.<com.fsck.k9.FontSizes: void setViewTextSize(android.widget.TextView,int)>(r29, $i0);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void setTitle()>();

        $r48 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: java.lang.Object getLastNonConfigurationInstance()>();

        $r49 = (com.fsck.k9.message.MessageBuilder) $r48;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = $r49;

        $r49 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r49 == null goto label29;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(1);

        $r49 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        virtualinvoke $r49.<com.fsck.k9.message.MessageBuilder: void reattachCallback(com.fsck.k9.message.MessageBuilder$Callback)>(r0);

        return;

     label21:
        $r17 = virtualinvoke $r11.<android.content.Intent: java.lang.String getAction()>();

        $r50 = "com.fsck.k9.intent.action.COMPOSE";

        $z0 = virtualinvoke $r50.<java.lang.String: boolean equals(java.lang.Object)>($r17);

        if $z0 == 0 goto label22;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action COMPOSE>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label22:
        $r50 = "com.fsck.k9.intent.action.REPLY";

        $z0 = virtualinvoke $r50.<java.lang.String: boolean equals(java.lang.Object)>($r17);

        if $z0 == 0 goto label23;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label23:
        $r50 = "com.fsck.k9.intent.action.REPLY_ALL";

        $z0 = virtualinvoke $r50.<java.lang.String: boolean equals(java.lang.Object)>($r17);

        if $z0 == 0 goto label24;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action REPLY_ALL>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label24:
        $r50 = "com.fsck.k9.intent.action.FORWARD";

        $z0 = virtualinvoke $r50.<java.lang.String: boolean equals(java.lang.Object)>($r17);

        if $z0 == 0 goto label25;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action FORWARD>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label25:
        $r50 = "com.fsck.k9.intent.action.EDIT_DRAFT";

        $z0 = virtualinvoke $r50.<java.lang.String: boolean equals(java.lang.Object)>($r17);

        if $z0 == 0 goto label26;

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label26:
        $r51 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void w(java.lang.String,java.lang.Object[])>("MessageCompose was started with an unsupported action", $r51);

        $r37 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action COMPOSE>;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action> = $r37;

        goto label09;

     label27:
        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.EolConvertingEditText signatureView> = r30;

        virtualinvoke r29.<com.fsck.k9.ui.EolConvertingEditText: void setVisibility(int)>(8);

        goto label11;

     label28:
        virtualinvoke r2.<com.fsck.k9.activity.compose.RecipientMvpView: void requestFocusOnToField()>();

        goto label19;

     label29:
        return;
    }
    public android.app.Dialog onCreateDialog(int)
    {
        com.fsck.k9.activity.MessageCompose r0;
        int $i0;
        com.fsck.k9.activity.compose.IdentityAdapter r1;
        android.app.AlertDialog$Builder r2;
        android.view.ContextThemeWrapper r3;
        android.app.Dialog $r4;
        com.fsck.k9.activity.MessageCompose$4 $r5;
        com.fsck.k9.activity.MessageCompose$3 $r6;
        android.app.AlertDialog $r7;
        com.fsck.k9.activity.MessageCompose$6 $r8;
        com.fsck.k9.activity.MessageCompose$5 $r9;
        com.fsck.k9.K9$Theme $r10, $r11;
        com.fsck.k9.activity.MessageCompose$7 $r12;
        com.fsck.k9.activity.MessageCompose$9 $r13;
        com.fsck.k9.activity.MessageCompose$8 $r14;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $i0 := @parameter0: int;

        lookupswitch($i0)
        {
            case 1: goto label2;
            case 2: goto label3;
            case 3: goto label4;
            case 4: goto label7;
            default: goto label1;
        };

     label1:
        $r4 = specialinvoke r0.<com.fsck.k9.activity.K9Activity: android.app.Dialog onCreateDialog(int)>($i0);

        return $r4;

     label2:
        r2 = new android.app.AlertDialog$Builder;

        specialinvoke r2.<android.app.AlertDialog$Builder: void <init>(android.content.Context)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setTitle(int)>(2131166003);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setMessage(int)>(2131166004);

        $r5 = new com.fsck.k9.activity.MessageCompose$4;

        specialinvoke $r5.<com.fsck.k9.activity.MessageCompose$4: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setPositiveButton(int,android.content.DialogInterface$OnClickListener)>(2131166002, $r5);

        $r6 = new com.fsck.k9.activity.MessageCompose$3;

        specialinvoke $r6.<com.fsck.k9.activity.MessageCompose$3: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setNegativeButton(int,android.content.DialogInterface$OnClickListener)>(2131165615, $r6);

        $r7 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog create()>();

        return $r7;

     label3:
        r2 = new android.app.AlertDialog$Builder;

        specialinvoke r2.<android.app.AlertDialog$Builder: void <init>(android.content.Context)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setTitle(int)>(2131165549);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setMessage(int)>(2131165548);

        $r8 = new com.fsck.k9.activity.MessageCompose$6;

        specialinvoke $r8.<com.fsck.k9.activity.MessageCompose$6: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setPositiveButton(int,android.content.DialogInterface$OnClickListener)>(2131165523, $r8);

        $r9 = new com.fsck.k9.activity.MessageCompose$5;

        specialinvoke $r9.<com.fsck.k9.activity.MessageCompose$5: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setNegativeButton(int,android.content.DialogInterface$OnClickListener)>(2131165615, $r9);

        $r7 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog create()>();

        return $r7;

     label4:
        r3 = new android.view.ContextThemeWrapper;

        $r10 = staticinvoke <com.fsck.k9.K9: com.fsck.k9.K9$Theme getK9Theme()>();

        $r11 = <com.fsck.k9.K9$Theme: com.fsck.k9.K9$Theme LIGHT>;

        if $r10 != $r11 goto label6;

        $i0 = 2131230744;

     label5:
        specialinvoke r3.<android.view.ContextThemeWrapper: void <init>(android.content.Context,int)>(r0, $i0);

        r2 = new android.app.AlertDialog$Builder;

        specialinvoke r2.<android.app.AlertDialog$Builder: void <init>(android.content.Context)>(r3);

        virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setTitle(int)>(2131166018);

        r1 = new com.fsck.k9.activity.compose.IdentityAdapter;

        specialinvoke r1.<com.fsck.k9.activity.compose.IdentityAdapter: void <init>(android.content.Context)>(r3);

        $r12 = new com.fsck.k9.activity.MessageCompose$7;

        specialinvoke $r12.<com.fsck.k9.activity.MessageCompose$7: void <init>(com.fsck.k9.activity.MessageCompose,com.fsck.k9.activity.compose.IdentityAdapter)>(r0, r1);

        virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setAdapter(android.widget.ListAdapter,android.content.DialogInterface$OnClickListener)>(r1, $r12);

        $r7 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog create()>();

        return $r7;

     label6:
        $i0 = 2131230743;

        goto label5;

     label7:
        r2 = new android.app.AlertDialog$Builder;

        specialinvoke r2.<android.app.AlertDialog$Builder: void <init>(android.content.Context)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setTitle(int)>(2131165604);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setMessage(int)>(2131165603);

        $r13 = new com.fsck.k9.activity.MessageCompose$9;

        specialinvoke $r13.<com.fsck.k9.activity.MessageCompose$9: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setPositiveButton(int,android.content.DialogInterface$OnClickListener)>(2131165602, $r13);

        $r14 = new com.fsck.k9.activity.MessageCompose$8;

        specialinvoke $r14.<com.fsck.k9.activity.MessageCompose$8: void <init>(com.fsck.k9.activity.MessageCompose)>(r0);

        r2 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog$Builder setNegativeButton(int,android.content.DialogInterface$OnClickListener)>(2131165601, $r14);

        $r7 = virtualinvoke r2.<android.app.AlertDialog$Builder: android.app.AlertDialog create()>();

        return $r7;
    }
    public boolean onCreateOptionsMenu(android.view.Menu)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.view.Menu $r1;
        boolean $z0;
        android.view.MenuInflater $r2;
        com.fsck.k9.Account $r3;
        android.view.MenuItem $r4;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.view.Menu;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: boolean onCreateOptionsMenu(android.view.Menu)>($r1);

        $z0 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: boolean isFinishing()>();

        if $z0 == 0 goto label1;

        return 0;

     label1:
        $r2 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.view.MenuInflater getMenuInflater()>();

        virtualinvoke $r2.<android.view.MenuInflater: void inflate(int,android.view.Menu)>(2131558408, $r1);

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $z0 = virtualinvoke $r3.<com.fsck.k9.Account: boolean hasDraftsFolder()>();

        if $z0 != 0 goto label2;

        $r4 = interfaceinvoke $r1.<android.view.Menu: android.view.MenuItem findItem(int)>(2131493173);

        interfaceinvoke $r4.<android.view.MenuItem: android.view.MenuItem setEnabled(boolean)>(0);

     label2:
        return 1;
    }
    public void onDestroy()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.activity.compose.RecipientPresenter $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onDestroy()>();

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        if $r1 == null goto label1;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void onActivityDestroy()>();

     label1:
        return;
    }
    public void onFocusChange(android.view.View, boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.view.View $r1;
        boolean $z0;
        int $i0;
        com.fsck.k9.activity.compose.RecipientPresenter $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.view.View;

        $z0 := @parameter1: boolean;

        $i0 = virtualinvoke $r1.<android.view.View: int getId()>();

        lookupswitch($i0)
        {
            case 2131492986: goto label2;
            case 2131492987: goto label1;
            case 2131492988: goto label2;
            default: goto label1;
        };

     label1:
        return;

     label2:
        if $z0 == 0 goto label3;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onNonRecipientFieldFocused()>();

     label3:
        return;
    }
    public void onMessageBuildCancel()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = null;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(0);

        return;
    }
    public void onMessageBuildException(com.fsck.k9.mail.MessagingException)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mail.MessagingException $r1;
        java.lang.Object[] $r2;
        java.lang.String $r3;
        android.widget.Toast $r4;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mail.MessagingException;

        $r2 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void e(java.lang.Throwable,java.lang.String,java.lang.Object[])>($r1, "Error sending message", $r2);

        $r2 = newarray (java.lang.Object)[1];

        $r3 = virtualinvoke $r1.<com.fsck.k9.mail.MessagingException: java.lang.String getLocalizedMessage()>();

        $r2[0] = $r3;

        $r3 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: java.lang.String getString(int,java.lang.Object[])>(2131166019, $r2);

        $r4 = staticinvoke <android.widget.Toast: android.widget.Toast makeText(android.content.Context,java.lang.CharSequence,int)>(r0, $r3, 1);

        virtualinvoke $r4.<android.widget.Toast: void show()>();

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = null;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(0);

        return;
    }
    public void onMessageBuildReturnPendingIntent(android.app.PendingIntent, int)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.app.PendingIntent $r1;
        android.content.IntentSender$SendIntentException r2;
        android.content.IntentSender $r3;
        int $i0;
        java.lang.Object[] $r4;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.app.PendingIntent;

        $i0 := @parameter1: int;

        $i0 = $i0 | 2048;

     label1:
        $r3 = virtualinvoke $r1.<android.app.PendingIntent: android.content.IntentSender getIntentSender()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void startIntentSenderForResult(android.content.IntentSender,int,android.content.Intent,int,int,int)>($r3, $i0, null, 0, 0, 0);

     label2:
        return;

     label3:
        r2 := @caughtexception;

        $r4 = newarray (java.lang.Object)[0];

        staticinvoke <timber.log.Timber: void e(java.lang.Throwable,java.lang.String,java.lang.Object[])>(r2, "Error starting pending intent from builder!", $r4);

        return;

        catch android.content.IntentSender$SendIntentException from label1 to label2 with label3;
    }
    public void onMessageBuildSuccess(com.fsck.k9.mail.internet.MimeMessage, boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.mail.internet.MimeMessage $r1;
        boolean $z0;
        java.lang.Long $r2;
        com.fsck.k9.activity.MessageCompose$Action $r3, $r4;
        com.fsck.k9.activity.MessageReference $r5;
        java.lang.String $r6;
        com.fsck.k9.activity.compose.RecipientPresenter $r7;
        com.fsck.k9.activity.compose.SaveMessageTask $r8;
        android.content.Context $r9;
        com.fsck.k9.Account $r10;
        com.fsck.k9.helper.Contacts $r11;
        android.os.Handler $r12;
        long $l0;
        java.lang.Void[] $r13;
        com.fsck.k9.activity.MessageCompose$SendMessageTask $r14;
        byte $b1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.mail.internet.MimeMessage;

        $z0 := @parameter1: boolean;

        $r2 = null;

        if $z0 == 0 goto label3;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = null;

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r4 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action EDIT_DRAFT>;

        if $r3 != $r4 goto label1;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        if $r5 == null goto label1;

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        $r6 = virtualinvoke $r5.<com.fsck.k9.activity.MessageReference: java.lang.String getUid()>();

        virtualinvoke $r1.<com.fsck.k9.mail.internet.MimeMessage: void setUid(java.lang.String)>($r6);

     label1:
        $r7 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $z0 = virtualinvoke $r7.<com.fsck.k9.activity.compose.RecipientPresenter: boolean shouldSaveRemotely()>();

        $r8 = new com.fsck.k9.activity.compose.SaveMessageTask;

        $r9 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.helper.Contacts contacts>;

        $r12 = r0.<com.fsck.k9.activity.MessageCompose: android.os.Handler internalMessageHandler>;

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        specialinvoke $r8.<com.fsck.k9.activity.compose.SaveMessageTask: void <init>(android.content.Context,com.fsck.k9.Account,com.fsck.k9.helper.Contacts,android.os.Handler,com.fsck.k9.mail.Message,long,boolean)>($r9, $r10, $r11, $r12, $r1, $l0, $z0);

        $r13 = newarray (java.lang.Void)[0];

        virtualinvoke $r8.<com.fsck.k9.activity.compose.SaveMessageTask: android.os.AsyncTask execute(java.lang.Object[])>($r13);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean finishAfterDraftSaved>;

        if $z0 == 0 goto label2;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;

     label2:
        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(0);

        return;

     label3:
        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = null;

        $r14 = new com.fsck.k9.activity.MessageCompose$SendMessageTask;

        $r9 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: android.content.Context getApplicationContext()>();

        $r10 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r11 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.helper.Contacts contacts>;

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        $b1 = $l0 cmp -1L;

        if $b1 == 0 goto label4;

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        $r2 = staticinvoke <java.lang.Long: java.lang.Long valueOf(long)>($l0);

     label4:
        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageReference relatedMessageReference>;

        specialinvoke $r14.<com.fsck.k9.activity.MessageCompose$SendMessageTask: void <init>(android.content.Context,com.fsck.k9.Account,com.fsck.k9.helper.Contacts,com.fsck.k9.mail.Message,java.lang.Long,com.fsck.k9.activity.MessageReference)>($r9, $r10, $r11, $r1, $r2, $r5);

        $r13 = newarray (java.lang.Void)[0];

        virtualinvoke $r14.<com.fsck.k9.activity.MessageCompose$SendMessageTask: android.os.AsyncTask execute(java.lang.Object[])>($r13);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void finish()>();

        return;
    }
    public void onOpenPgpClickDisable()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.activity.compose.RecipientPresenter $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void onCryptoPgpClickDisable()>();

        return;
    }
    public void onOpenPgpInlineChange(boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;
        com.fsck.k9.activity.compose.RecipientPresenter $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter0: boolean;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void onCryptoPgpInlineChanged(boolean)>($z0);

        return;
    }
    public void onOpenPgpSignOnlyChange(boolean)
    {
        com.fsck.k9.activity.MessageCompose r0;
        boolean $z0;
        com.fsck.k9.activity.compose.RecipientPresenter $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $z0 := @parameter0: boolean;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r1.<com.fsck.k9.activity.compose.RecipientPresenter: void onCryptoPgpSignOnlyDisabled()>();

        return;
    }
    public boolean onOptionsItemSelected(android.view.MenuItem)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.view.MenuItem $r1;
        int $i0;
        boolean $z0;
        com.fsck.k9.activity.compose.RecipientPresenter $r2;
        com.fsck.k9.activity.compose.AttachmentPresenter $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.view.MenuItem;

        $i0 = interfaceinvoke $r1.<android.view.MenuItem: int getItemId()>();

        lookupswitch($i0)
        {
            case 16908332: goto label02;
            case 2131493170: goto label13;
            case 2131493171: goto label03;
            case 2131493172: goto label06;
            case 2131493173: goto label04;
            case 2131493174: goto label05;
            case 2131493175: goto label14;
            case 2131493176: goto label08;
            case 2131493177: goto label07;
            case 2131493178: goto label11;
            case 2131493179: goto label12;
            case 2131493180: goto label09;
            case 2131493181: goto label10;
            default: goto label01;
        };

     label01:
        $z0 = specialinvoke r0.<com.fsck.k9.activity.K9Activity: boolean onOptionsItemSelected(android.view.MenuItem)>($r1);

        return $z0;

     label02:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void prepareToFinish(boolean)>(1);

        return 1;

     label03:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void checkToSendMessage()>();

        return 1;

     label04:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void checkToSaveDraftAndSave()>();

        return 1;

     label05:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void askBeforeDiscard()>();

        return 1;

     label06:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuAddFromContacts()>();

        return 1;

     label07:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetEnableEncryption(boolean)>(0);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return 1;

     label08:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetEnableEncryption(boolean)>(1);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return 1;

     label09:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetPgpInline(boolean)>(1);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return 1;

     label10:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetPgpInline(boolean)>(0);

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return 1;

     label11:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetSignOnly(boolean)>(1);

        return 1;

     label12:
        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onMenuSetSignOnly(boolean)>(0);

        return 1;

     label13:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r3.<com.fsck.k9.activity.compose.AttachmentPresenter: void onClickAddAttachment(com.fsck.k9.activity.compose.RecipientPresenter)>($r2);

        return 1;

     label14:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void onReadReceipt()>();

        return 1;
    }
    public void onPause()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.controller.MessagingController $r1;
        com.fsck.k9.controller.MessagingListener $r2;
        int $i0;
        boolean z0, z1;
        com.fsck.k9.message.MessageBuilder $r3;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onPause()>();

        $r1 = staticinvoke <com.fsck.k9.controller.MessagingController: com.fsck.k9.controller.MessagingController getInstance(android.content.Context)>(r0);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.controller.MessagingListener messagingListener>;

        virtualinvoke $r1.<com.fsck.k9.controller.MessagingController: void removeListener(com.fsck.k9.controller.MessagingListener)>($r2);

        $i0 = virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: int getChangingConfigurations()>();

        $i0 = $i0 & 128;

        if $i0 != 128 goto label3;

        z0 = 1;

     label1:
        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r3 == null goto label4;

        z1 = 1;

     label2:
        if z0 != 0 goto label6;

        if z1 != 0 goto label6;

        z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean isInSubActivity>;

        if z0 == 0 goto label5;

        return;

     label3:
        z0 = 0;

        goto label1;

     label4:
        z1 = 0;

        goto label2;

     label5:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void checkToSaveDraftImplicitly()>();

     label6:
        return;
    }
    public boolean onPrepareOptionsMenu(android.view.Menu)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.view.Menu $r1;
        com.fsck.k9.activity.compose.RecipientPresenter $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.view.Menu;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: boolean onPrepareOptionsMenu(android.view.Menu)>($r1);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.RecipientPresenter: void onPrepareOptionsMenu(android.view.Menu)>($r1);

        return 1;
    }
    public void onProgressCancel(com.fsck.k9.fragment.AttachmentDownloadDialogFragment)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.fragment.AttachmentDownloadDialogFragment $r1;
        com.fsck.k9.activity.compose.AttachmentPresenter $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.fragment.AttachmentDownloadDialogFragment;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.AttachmentPresenter: void attachmentProgressDialogCancelled()>();

        return;
    }
    public void onProgressCancel(com.fsck.k9.fragment.ProgressDialogFragment)
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.fragment.ProgressDialogFragment $r1;
        com.fsck.k9.activity.compose.AttachmentPresenter $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: com.fsck.k9.fragment.ProgressDialogFragment;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r2.<com.fsck.k9.activity.compose.AttachmentPresenter: void attachmentProgressDialogCancelled()>();

        return;
    }
    public void onRecipientsChanged()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

        return;
    }
    protected void onRestoreInstanceState(android.os.Bundle)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.os.Bundle $r1;
        android.widget.LinearLayout $r2;
        boolean $z0;
        com.fsck.k9.activity.compose.RecipientPresenter $r3;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r4;
        com.fsck.k9.activity.compose.AttachmentPresenter $r5;
        long $l0;
        java.io.Serializable $r6;
        com.fsck.k9.Identity $r7;
        java.lang.String $r8;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.os.Bundle;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onRestoreInstanceState(android.os.Bundle)>($r1);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: android.widget.LinearLayout attachmentsView>;

        virtualinvoke $r2.<android.widget.LinearLayout: void removeAllViews()>();

        $z0 = virtualinvoke $r1.<android.os.Bundle: boolean getBoolean(java.lang.String)>("com.fsck.k9.activity.MessageCompose.messageReadReceipt");

        r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt> = $z0;

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r3.<com.fsck.k9.activity.compose.RecipientPresenter: void onRestoreInstanceState(android.os.Bundle)>($r1);

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        virtualinvoke $r4.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void onRestoreInstanceState(android.os.Bundle)>($r1);

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r5.<com.fsck.k9.activity.compose.AttachmentPresenter: void onRestoreInstanceState(android.os.Bundle)>($r1);

        $l0 = virtualinvoke $r1.<android.os.Bundle: long getLong(java.lang.String)>("com.fsck.k9.activity.MessageCompose.draftId");

        r0.<com.fsck.k9.activity.MessageCompose: long draftId> = $l0;

        $r6 = virtualinvoke $r1.<android.os.Bundle: java.io.Serializable getSerializable(java.lang.String)>("com.fsck.k9.activity.MessageCompose.identity");

        $r7 = (com.fsck.k9.Identity) $r6;

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity> = $r7;

        $z0 = virtualinvoke $r1.<android.os.Bundle: boolean getBoolean(java.lang.String)>("com.fsck.k9.activity.MessageCompose.identityChanged");

        r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged> = $z0;

        $r8 = virtualinvoke $r1.<android.os.Bundle: java.lang.String getString(java.lang.String)>("com.fsck.k9.activity.MessageCompose.inReplyTo");

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId> = $r8;

        $r8 = virtualinvoke $r1.<android.os.Bundle: java.lang.String getString(java.lang.String)>("com.fsck.k9.activity.MessageCompose.references");

        r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds> = $r8;

        $z0 = virtualinvoke $r1.<android.os.Bundle: boolean getBoolean(java.lang.String)>("com.fsck.k9.activity.MessageCompose.changesMadeSinceLastSave");

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = $z0;

        $z0 = virtualinvoke $r1.<android.os.Bundle: boolean getBoolean(java.lang.String)>("alreadyNotifiedUserOfEmptySubject");

        r0.<com.fsck.k9.activity.MessageCompose: boolean alreadyNotifiedUserOfEmptySubject> = $z0;

        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateFrom()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void updateMessageFormat()>();

        return;
    }
    protected void onResume()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.controller.MessagingListener $r1;
        com.fsck.k9.controller.MessagingController $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onResume()>();

        $r2 = staticinvoke <com.fsck.k9.controller.MessagingController: com.fsck.k9.controller.MessagingController getInstance(android.content.Context)>(r0);

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.controller.MessagingListener messagingListener>;

        virtualinvoke $r2.<com.fsck.k9.controller.MessagingController: void addListener(com.fsck.k9.controller.MessagingListener)>($r1);

        return;
    }
    public java.lang.Object onRetainNonConfigurationInstance()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.message.MessageBuilder $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r1 == null goto label1;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        virtualinvoke $r1.<com.fsck.k9.message.MessageBuilder: void detachCallback()>();

     label1:
        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        return $r1;
    }
    protected void onSaveInstanceState(android.os.Bundle)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.os.Bundle $r1;
        long $l0;
        boolean $z0;
        com.fsck.k9.Identity $r2;
        java.lang.String $r3;
        com.fsck.k9.activity.compose.RecipientPresenter $r4;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r5;
        com.fsck.k9.activity.compose.AttachmentPresenter $r6;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 := @parameter0: android.os.Bundle;

        specialinvoke r0.<com.fsck.k9.activity.K9Activity: void onSaveInstanceState(android.os.Bundle)>($r1);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean relatedMessageProcessed>;

        virtualinvoke $r1.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("com.fsck.k9.activity.MessageCompose.stateKeySourceMessageProced", $z0);

        $l0 = r0.<com.fsck.k9.activity.MessageCompose: long draftId>;

        virtualinvoke $r1.<android.os.Bundle: void putLong(java.lang.String,long)>("com.fsck.k9.activity.MessageCompose.draftId", $l0);

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Identity identity>;

        virtualinvoke $r1.<android.os.Bundle: void putSerializable(java.lang.String,java.io.Serializable)>("com.fsck.k9.activity.MessageCompose.identity", $r2);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean identityChanged>;

        virtualinvoke $r1.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("com.fsck.k9.activity.MessageCompose.identityChanged", $z0);

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String repliedToMessageId>;

        virtualinvoke $r1.<android.os.Bundle: void putString(java.lang.String,java.lang.String)>("com.fsck.k9.activity.MessageCompose.inReplyTo", $r3);

        $r3 = r0.<com.fsck.k9.activity.MessageCompose: java.lang.String referencedMessageIds>;

        virtualinvoke $r1.<android.os.Bundle: void putString(java.lang.String,java.lang.String)>("com.fsck.k9.activity.MessageCompose.references", $r3);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean requestReadReceipt>;

        virtualinvoke $r1.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("com.fsck.k9.activity.MessageCompose.messageReadReceipt", $z0);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave>;

        virtualinvoke $r1.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("com.fsck.k9.activity.MessageCompose.changesMadeSinceLastSave", $z0);

        $z0 = r0.<com.fsck.k9.activity.MessageCompose: boolean alreadyNotifiedUserOfEmptySubject>;

        virtualinvoke $r1.<android.os.Bundle: void putBoolean(java.lang.String,boolean)>("alreadyNotifiedUserOfEmptySubject", $z0);

        $r4 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        virtualinvoke $r4.<com.fsck.k9.activity.compose.RecipientPresenter: void onSaveInstanceState(android.os.Bundle)>($r1);

        $r5 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        virtualinvoke $r5.<com.fsck.k9.ui.compose.QuotedMessagePresenter: void onSaveInstanceState(android.os.Bundle)>($r1);

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.AttachmentPresenter attachmentPresenter>;

        virtualinvoke $r6.<com.fsck.k9.activity.compose.AttachmentPresenter: void onSaveInstanceState(android.os.Bundle)>($r1);

        return;
    }
    public void performSendAfterChecks()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.message.MessageBuilder $r1;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r1 = specialinvoke r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder createMessageBuilder(boolean)>(0);

        r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder> = $r1;

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        if $r1 == null goto label1;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 0;

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void setProgressBarIndeterminateVisibility(boolean)>(1);

        $r1 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.message.MessageBuilder currentMessageBuilder>;

        virtualinvoke $r1.<com.fsck.k9.message.MessageBuilder: void buildAsync(com.fsck.k9.message.MessageBuilder$Callback)>(r0);

     label1:
        return;
    }
    public void saveDraftEventually()
    {
        com.fsck.k9.activity.MessageCompose r0;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        r0.<com.fsck.k9.activity.MessageCompose: boolean changesMadeSinceLastSave> = 1;

        return;
    }
    public void showContactPicker(int)
    {
        com.fsck.k9.activity.MessageCompose r0;
        android.content.Intent $r1;
        int $i0;
        com.fsck.k9.helper.Contacts $r2;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $i0 := @parameter0: int;

        $i0 = $i0 | 256;

        r0.<com.fsck.k9.activity.MessageCompose: boolean isInSubActivity> = 1;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.helper.Contacts contacts>;

        $r1 = virtualinvoke $r2.<com.fsck.k9.helper.Contacts: android.content.Intent contactPickerIntent()>();

        virtualinvoke r0.<com.fsck.k9.activity.MessageCompose: void startActivityForResult(android.content.Intent,int)>($r1, $i0);

        return;
    }
    public void updateMessageFormat()
    {
        com.fsck.k9.activity.MessageCompose r0;
        com.fsck.k9.activity.MessageCompose$Action $r1, $r8;
        com.fsck.k9.Account $r2;
        com.fsck.k9.Account$MessageFormat $r3, $r4;
        com.fsck.k9.message.SimpleMessageFormat r5;
        com.fsck.k9.ui.compose.QuotedMessagePresenter $r6;
        boolean $z0;
        com.fsck.k9.activity.compose.RecipientPresenter $r7;

        r0 := @this: com.fsck.k9.activity.MessageCompose;

        $r2 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.Account account>;

        $r3 = virtualinvoke $r2.<com.fsck.k9.Account: com.fsck.k9.Account$MessageFormat getMessageFormat()>();

        $r4 = <com.fsck.k9.Account$MessageFormat: com.fsck.k9.Account$MessageFormat TEXT>;

        if $r3 != $r4 goto label2;

        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat TEXT>;

     label1:
        specialinvoke r0.<com.fsck.k9.activity.MessageCompose: void setCurrentMessageFormat(com.fsck.k9.message.SimpleMessageFormat)>(r5);

        return;

     label2:
        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $z0 = virtualinvoke $r6.<com.fsck.k9.ui.compose.QuotedMessagePresenter: boolean isForcePlainText()>();

        if $z0 == 0 goto label3;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $z0 = virtualinvoke $r6.<com.fsck.k9.ui.compose.QuotedMessagePresenter: boolean includeQuotedText()>();

        if $z0 == 0 goto label3;

        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat TEXT>;

        goto label1;

     label3:
        $r7 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.compose.RecipientPresenter recipientPresenter>;

        $z0 = virtualinvoke $r7.<com.fsck.k9.activity.compose.RecipientPresenter: boolean isForceTextMessageFormat()>();

        if $z0 == 0 goto label4;

        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat TEXT>;

        goto label1;

     label4:
        $r4 = <com.fsck.k9.Account$MessageFormat: com.fsck.k9.Account$MessageFormat AUTO>;

        if $r3 != $r4 goto label7;

        $r8 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.activity.MessageCompose$Action action>;

        $r1 = <com.fsck.k9.activity.MessageCompose$Action: com.fsck.k9.activity.MessageCompose$Action COMPOSE>;

        if $r8 == $r1 goto label5;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $z0 = virtualinvoke $r6.<com.fsck.k9.ui.compose.QuotedMessagePresenter: boolean isQuotedTextText()>();

        if $z0 != 0 goto label5;

        $r6 = r0.<com.fsck.k9.activity.MessageCompose: com.fsck.k9.ui.compose.QuotedMessagePresenter quotedMessagePresenter>;

        $z0 = virtualinvoke $r6.<com.fsck.k9.ui.compose.QuotedMessagePresenter: boolean includeQuotedText()>();

        if $z0 != 0 goto label6;

     label5:
        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat TEXT>;

        goto label1;

     label6:
        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat HTML>;

        goto label1;

     label7:
        r5 = <com.fsck.k9.message.SimpleMessageFormat: com.fsck.k9.message.SimpleMessageFormat HTML>;

        goto label1;
    }
